(this["webpackJsonpcar-sharing"]=this["webpackJsonpcar-sharing"]||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){"use strict";a.r(t);a(89);var n=a(1),c=a(27),r=a.n(c),s=a(6),i=a(13),o=a(11),l=a(8),u=a.n(l),d=a(40),j=a(29),p=a(4),b="SET_BURGER_STATUS",O="SET_TABLE_CARS",h="SET_CURRENT_CAR",f="SET_CURRENT_STEP",m="SET_NEW_TABLE_CARS",x="SET_CURRENT_CITY",v="SET_CURRENT_ADDRESS",g="SET_CITIES",y="SET_NEW_CITIES",A="SET_ADDRESSES",C="SET_PLACE_MARKS",N="SET_NEW_PLACE_MARKS",E="SET_CATEGORIES",k="SET_TARIFFS",w="SET_PLACE_MARK_INDEX",S="SET_COLOR",T="SET_TARIFF",I="SET_ADDITIONAL",M="CHANGE_ADDITIONAL",R="SET_DATE_RANGE",B="DATE_IS_VALID",_="SET_PRICE",D="SET_ORDER_ID",L="SET_ORDER_STATUS",U="SET_TEMPORARY_ORDER",P={burger_status:!1,currentCity:{},currentOrder:{place:{text:"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",value:{city:"",street:""}},model:{text:"\u041c\u043e\u0434\u0435\u043b\u044c",value:""},color:{text:"\u0426\u0432\u0435\u0442",value:""},delay:{text:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b",value:"",date:{},from:"",to:""},tariff:{text:"\u0422\u0430\u0440\u0438\u0444",value:""},additional:{isFullTank:{text:"",value:!1},isNeedChildChair:{text:"",value:!1},isRightWheel:{text:"",value:!1}}},price:{min:0,max:32e3,value:0},tableCars:[],newTableCars:[],cities:[],newCities:[],addresses:[],newAddresses:[],placeMarks:[],newPlaceMarks:[],categories:[],tariffs:[],currentTariff:{},placeMarkIndex:{},currentCar:{colors:["\u041b\u044e\u0431\u043e\u0439"],thumbnail:{path:""},name:""},currentStep:0,currentAddress:{name:"",city:""},dateIsValid:!0,orderId:"",orderStatus:!1,temporaryOrder:{}};var F,V,Q,Y=function(e){return{type:g,payload:e}},G=function(e){return{type:y,payload:e}},K=function(e){return{type:x,payload:e}},W=function(e,t,a){return{type:v,address:e,city:t,id:a}},Z=function(e){return{type:N,placeMark:e}},z=function(e){return{type:w,index:e}},X=function(e){return{type:S,color:e}},H=function(e,t){return{type:T,tariff:e,value:t}},J=function(e,t,a,n){return{type:R,diff:e,text:t,from:a,to:n}},q=function(e){return{type:B,flag:e}},$=function(e){return{type:_,price:e}};function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var te,ae=function(e){return n.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256"},e),F||(F=n.createElement("path",{className:"MenuToggle1_svg__line-1",d:"M9 53.8h237.66"})),V||(V=n.createElement("path",{className:"MenuToggle1_svg__line-2",d:"M9 129.25h237.66"})),Q||(Q=n.createElement("path",{className:"MenuToggle1_svg__line-3",d:"M9 204.7h237.66"})))};function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var ce=function(e){return n.createElement("svg",ne({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256"},e),te||(te=n.createElement("path",{className:"MenuToggle2_svg__cls-1",d:"M9 129.25h237.66"})))},re={li:["\u041f\u0410\u0420\u041a\u041e\u0412\u041a\u0410","\u0421\u0422\u0420\u0410\u0425\u041e\u0412\u041a\u0410","\u0411\u0415\u041d\u0417\u0418\u041d","\u041e\u0411\u0421\u041b\u0423\u0416\u0418\u0412\u0410\u041d\u0418\u0415"],socLink:[{text:"telegram",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAACFUlEQVRIie3VO2hUQRTG8Z/GF0FQJIogiGBcbSxiCrFQ2EYRMY2IVgpipZ2FEmxEEKwkAUVsAoqFCCmiYBARjGksBLURX4VPjCLG+IhEYmIxs2R23VeyG7HIB5fZO+eb+d8995y5zGhGU1cT2vEEwzg83cAWdOEnxpNraDpgc7Ab/QnoN67jQLz/WE9gLp2vE+AXnMHq6GmL87fqAVyHTvxIgM9wDIsLvCdi/PRUYQ3YhTv+TudWzCqxrid6904WuARH8VJ+oXSgucCbRTfmJXNv4ppMtcCMkM7vCfC54ulcgUsYwNpkflnyoLMrAXfidgIbQy+2F1m8AMeFdz0gvPtU2+IedytBzyXArzhb8A9SteFF9H7C+iKe9hjvqAQejMY+LC3hyeBG8oCD2FDCezV69lcCX0k2HMAprIqxhUJLjMjPysYy++UyUiwbeWrAQTyS3zK9eJfMjQtFt7nMXouE+hgWTraq1YoL8g+J3DUiFFs5ZaP33mSgqZrwoQB8uYp1R6L3fLFgxd4SKranYK4vjlmhE4qlsiWOD6pglFSuH3NXM/aY+PRdE3o61eMYa60FPBef40ZvhYN/LN4Px/EmGqO/EaP4hfm1gOFiBIwm4yGhVd7HuX6hmjfF+4e1QmGLiVR/w44ktgavYuw+TsbfXfUAE1LcbaJwUq3EU/m1sK9e4EpaLnyvh4QzoOFfgWf0/+kP39OpbLs1428AAAAASUVORK5CYII="},{text:"facebook",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAA7UlEQVRIie2WPw4BQRSHP2yh3StwABEdCoVr4AQOInEKjqClEY2OKK0tSCQqjW4jNCOZrNk/Zq0l5pe84r28+X0zszObgX9TLuH4AtAAqkAR8IALsANmCb0D1RaAmyKWaUK9AGhqYAtwQqCxwJYGuA6UFfU1sBVgR8M3Un2eVzjhxYOa1wDbitpKTCBVsGrM9R0mH1Gc71IBhlJeEiHLFfHQEeglmxq0CL86qphHmaa11fuswIevBcc5XDZQk/Iu0PH1jIGRlG+AU5hpnF/mGZhKeVPR4/p6IpXZPTZgAzbg3wfrPPYWwEBRMwrVHf9iRMcIXZxjAAAAAElFTkSuQmCC"},{text:"instagram",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAB4klEQVRIie3WPWtUQRQG4McPiKCI5B+IRUhh/ICANkY7QxSVRBtjIZIyf0BEwWAtWChosNC0BtSIf0CilRIsEkXU1hRZQQUtNBb3rMluJnfnrqk0LwxnZ87He2b23DPDOv51bMi068ZObG1h9w3vMfc3ScEZvMVixTGHwbLAZTu+hosR6Dle4WuLRLdhPw7GfAyXW/g04HQQfsKhKo6BPsxHjNKdN+MNfrVBugn96MARS8eehe5weLaKvhMjuBFjJNagN3yPxnw65l05xP1hfDOhO4ealcVUw7CiZnoVO4dbTYn8weZE8I6QPxKk9xR/wW1MBdExXMD9sJtY5vM95JYEzwqcjCyvL1vrVOzqp+JEmjEQupqlYxcxFiNmAzbmZKKozB0Yx9OE/gnuhs2pnIC5xD0hp0psHofcs5bEOchtv5WIZ0IeL7Gp62ZKbCoTT+KzonoHViE9ryiuybUkXsBo2D/CHZyIMY6HoRsN8rZQ1kCGpRvIAs4m7Cs1kI8hU9U5ofh0BrE71l7jgfRO94b8kNAlUb8k+nIdEqhfErNVnIbCaR6H2yStX4vJhlL27Y3hUvx+gZf40oJwO/bhQMyv4kpmsg0YUtynVZ8+s1q0ztxu04Vd8h577xTvtHX85/gNG1aEbjAmkEgAAAAASUVORK5CYII="}]},se=(a(99),a(0)),ie=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.app.burger_status})),a=function(){e({type:b,payload:!t})},n=u()({"burger-menu":!0,burger__open:t}),c=u()({"svg-1__open":t,"svg-1__default":!t}),r=u()({"svg-2__open":t,"svg-2__default":!t});return Object(se.jsxs)("div",{className:"burger-page",children:[Object(se.jsxs)("aside",{className:n,children:[Object(se.jsxs)("section",{className:"toggle-wrapper",children:[Object(se.jsx)(ae,{onClick:a,className:c}),Object(se.jsx)(ce,{onClick:a,className:r})]}),Object(se.jsx)("section",{className:"burger-info",children:re.li.map((function(e){return Object(se.jsx)(i.b,{to:"/car-sharing/order",onClick:a,children:Object(se.jsx)("span",{children:e})},e)}))}),Object(se.jsx)("section",{className:"social-links",children:re.socLink.map((function(e){return Object(se.jsx)(i.b,{to:"/car-sharing/order",children:Object(se.jsx)("img",{src:e.img,alt:e.text})},e.text)}))}),Object(se.jsx)("button",{type:"button",className:"lang",children:Object(se.jsx)("span",{children:"Eng"})})]}),Object(se.jsx)("div",{className:"burger__template"})]})},oe=a(7),le=(a(104),[{img:a.p+"static/media/img1.9d6d9a44.png",title:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430",par:"\u041e\u0441\u0442\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043c\u0430\u0448\u0438\u043d\u0443 \u043d\u0430 \u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0438\u0445 \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430\u0445 \u0438 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u0445 \u043c\u0435\u0441\u0442\u0430\u0445, \u043d\u0435 \u043d\u0430\u0440\u0443\u0448\u0430\u044f \u041f\u0414\u0414, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430\u0445.",button__bg:"linear-gradient(90deg,#13493F,#0C7B1B)"},{img:a.p+"static/media/img2.6812641e.png",title:"\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430",par:"\u041f\u043e\u043b\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f",button__bg:"linear-gradient(90deg,#132949,#0C7B67)"},{img:a.p+"static/media/img3.246addc8.png",title:"\u0411\u0435\u043d\u0437\u0438\u043d",par:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a \u043d\u0430 \u043b\u044e\u0431\u043e\u0439 \u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u0437\u0430 \u043d\u0430\u0448 \u0441\u0447\u0451\u0442",button__bg:"linear-gradient(90deg,#493013,#7B0C3B)"},{img:a.p+"static/media/img4.6078199f.png",title:"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435",par:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0435\u0436\u0435\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u043e\u0435 \u0422\u041e",button__bg:"linear-gradient(90deg,#281349,#720C7B)"}]),ue=function(){var e=Object(s.c)((function(e){return e.app.burger_status})),t=Object(n.useState)(0),a=Object(oe.a)(t,2),c=a[0],r=a[1];function o(e){e>le.length-1?r(0):r(e<0?le.length-1:e)}return Object(se.jsxs)("aside",{className:u()({slider:!0,slider__open:e}),children:[Object(se.jsxs)("main",{className:"slider-container",children:[Object(se.jsxs)("div",{className:"mySlides fade",children:[Object(se.jsx)("img",{src:le[c].img,alt:""}),Object(se.jsxs)("section",{className:"text",children:[Object(se.jsx)("h1",{children:le[c].title}),Object(se.jsx)("p",{children:le[c].par}),Object(se.jsx)(i.b,{to:"/car-sharing/order",children:Object(se.jsx)("button",{type:"button",style:{background:le[c].button__bg},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})})]})]}),Object(se.jsx)("button",{type:"button",className:"prev-bg","aria-label":"prev",onClick:function(){o(c-1)}}),Object(se.jsx)("span",{className:"prev",children:"\u276e"}),Object(se.jsx)("button",{type:"button",className:"next-bg","aria-label":"next",onClick:function(){o(c+1)}}),Object(se.jsx)("span",{className:"next",children:"\u276f"})]}),Object(se.jsx)("section",{className:"dots",children:le.map((function(e,t){return Object(se.jsx)("button",{type:"button","aria-label":"dots",className:u()({dot:!0,active:t===c}),value:t,onClick:function(e){return t=e.target.attributes.value.value,void o(Number(t));var t}},e.img)}))})]})},de=(a(105),function(){return Object(se.jsxs)("div",{className:"home-page",children:[Object(se.jsx)(ie,{}),Object(se.jsxs)("main",{className:"main-content",children:[Object(se.jsxs)("header",{className:"header",children:[Object(se.jsx)("h1",{className:"header-title",children:"Need for drive"}),Object(se.jsxs)("span",{className:"header-map",children:[Object(se.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAB3klEQVRIibXVPYxNQRQH8N/ah4SwFsmKj+ptJKJBXkGjkA2dWkEhUZGISoQoNEKvEo1eRElEVISIj+ZpCCuWDbLBLsn6vIqZZ695c9/e3cQ/mUzmzDnnf86ZMzP8Z/TV0BnCFjQxgAX4jEFcRXu+BA3sRis6LaOJ/ShwAccxPReCBvZhOLO3AkcT25vYmyPpryDYhlVmStLBQhzBokS/ieW4njpKUxcVh/EbL0pR9eEgllQE1Yq2sxJsNJN+gVFMCIfZwjqcwPeSzSguxkz+Qa5EW7E4CaKNG5iK4w5+YCSuz+Br9Pd8tgyWJuvteJXRuyyU8Sw+VdhmCcrdsR6H5butX2jRMnmjDsFUnAdxOjo6kNHbgPuJbDIXRYqVWIOTwi2GnULNX2IZdmG17szexPEXudTX4gp2ZPZgHKfkb+4tvC8LciUaFw4vh2mcr3A+kTqvIihwTChJKj+XcxL3HuQiqnoq3goXaaQku4SHFfpPMDYXAriLTdiM28LTnMMYHlU56erbEgocijrX4jrFF9zr4aPWhzOAPbqz/SU80x97GfcqUQff4jyUyB9Lej6HXBfl8FT4JjuYxLM6hnUJikjSQVv+TOZNAK+Fu/FTRUvmUOcMOiiEpviAd3WN/gCroWJ39xmG2QAAAABJRU5ErkJggg==",alt:"location"}),"\u0423\u043b\u044c\u044f\u043d\u043e\u0432\u0441\u043a"]})]}),Object(se.jsxs)("section",{className:"heading",children:[Object(se.jsx)("h1",{children:"\u041a\u0430\u0440\u0448\u0435\u0440\u0438\u043d\u0433"}),Object(se.jsx)("h1",{className:"sub-title",children:"Need for drive"}),Object(se.jsx)("h4",{children:"\u041f\u043e\u043c\u0438\u043d\u0443\u0442\u043d\u0430\u044f \u0430\u0440\u0435\u043d\u0434\u0430 \u0430\u0432\u0442\u043e \u0442\u0432\u043e\u0435\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430"}),Object(se.jsx)(i.b,{to:"/car-sharing/order",children:Object(se.jsx)("button",{type:"button",className:"btn heading-btn",children:"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]}),Object(se.jsxs)("footer",{className:"footer",children:[Object(se.jsx)("span",{className:"footer-title",children:"\xa9 2016-2019 \xabNeed for drive\xbb"}),Object(se.jsx)("span",{className:"footer-tel",children:Object(se.jsx)("a",{href:"tel:+74952342244",children:"8 (495) 234-22-44"})})]})]}),Object(se.jsx)(ue,{})]})}),je=(a(106),a(10)),pe=a.n(je),be=a(12),Oe=a(42),he=a(74),fe=a(75);var me,xe,ve=Object(Oe.combineReducers)({app:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case b:return Object(p.a)(Object(p.a)({},a),{},{burger_status:n.payload});case O:return Object(p.a)(Object(p.a)({},a),{},{tableCars:n.payload,newTableCars:n.payload});case h:return n.payload.colors&&!n.payload.colors.length&&n.payload.colors.unshift("\u041b\u044e\u0431\u043e\u0439"),Object(p.a)(Object(p.a)({},a),{},{currentCar:n.payload,currentOrder:Object(p.a)(Object(p.a)({},a.currentOrder),{},{model:Object(p.a)(Object(p.a)({},a.currentOrder.model),{},{value:n.payload.name})}),price:{min:null!==(e=n.payload.priceMin)&&void 0!==e?e:0,max:null!==(t=n.payload.priceMax)&&void 0!==t?t:32e3}});case m:return Object(p.a)(Object(p.a)({},a),{},{newTableCars:n.payload});case f:return Object(p.a)(Object(p.a)({},a),{},{currentStep:n.payload,currentPage:n.payload});case g:return Object(p.a)(Object(p.a)({},a),{},{cities:n.payload,newCities:n.payload});case y:return Object(p.a)(Object(p.a)({},a),{},{newCities:n.payload});case A:return Object(p.a)(Object(p.a)({},a),{},{addresses:n.payload,newAddresses:n.payload});case x:return Object(p.a)(Object(p.a)({},a),{},{currentCity:n.payload,currentOrder:Object(p.a)(Object(p.a)({},a.currentOrder),{},{place:Object(p.a)(Object(p.a)({},a.currentOrder.place),{},{value:Object(p.a)(Object(p.a)({},a.currentOrder.place.value),{},{city:n.payload.name})})})});case v:return Object(p.a)(Object(p.a)({},a),{},{currentAddress:{id:n.id,name:n.address,city:n.city.name},currentCity:n.city,currentOrder:Object(p.a)(Object(p.a)({},a.currentOrder),{},{place:Object(p.a)(Object(p.a)({},a.currentOrder.place),{},{value:{city:n.city?n.city.name:"",street:n.address}})})});case C:return Object(p.a)(Object(p.a)({},a),{},{placeMarks:a.addresses.length>a.placeMarks.length?[].concat(Object(j.a)(a.placeMarks),[n.placeMark]):Object(j.a)(a.placeMarks),newPlaceMarks:a.addresses.length>a.placeMarks.length?[].concat(Object(j.a)(a.placeMarks),[n.placeMark]):Object(j.a)(a.placeMarks)});case N:return Object(p.a)(Object(p.a)({},a),{},{newPlaceMarks:n.placeMark});case E:return Object(p.a)(Object(p.a)({},a),{},{categories:n.categories});case k:return Object(p.a)(Object(p.a)({},a),{},{tariffs:n.tariffs});case w:return Object(p.a)(Object(p.a)({},a),{},{placeMarkIndex:n.index});case S:return Object(p.a)(Object(p.a)({},a),{},{currentOrder:Object(p.a)(Object(p.a)({},a.currentOrder),{},{color:Object(p.a)(Object(p.a)({},a.currentOrder.color),{},{value:n.color})})});case T:return Object(p.a)(Object(p.a)({},a),{},{currentOrder:Object(p.a)(Object(p.a)({},a.currentOrder),{},{tariff:Object(p.a)(Object(p.a)({},a.currentOrder.tariff),{},{value:n.value})}),currentTariff:n.tariff});case I:return Object(p.a)(Object(p.a)({},a),{},{currentOrder:Object(p.a)(Object(p.a)({},a.currentOrder),{},{additional:Object(p.a)(Object(p.a)({},a.currentOrder.additional),{},Object(d.a)({},n.item.key,{text:n.item.name,value:!0}))}),price:Object(p.a)(Object(p.a)({},a.price),{},{value:a.price.value+n.item.price})});case M:return Object(p.a)(Object(p.a)({},a),{},{currentOrder:Object(p.a)(Object(p.a)({},a.currentOrder),{},{additional:Object(p.a)(Object(p.a)({},a.currentOrder.additional),{},Object(d.a)({},n.item.key,Object(p.a)(Object(p.a)({},a.currentOrder.additional[n.item.key]),{},{value:!1})))}),price:Object(p.a)(Object(p.a)({},a.price),{},{value:a.price.value-n.item.price})});case R:return Object(p.a)(Object(p.a)({},a),{},{currentOrder:Object(p.a)(Object(p.a)({},a.currentOrder),{},{delay:Object(p.a)(Object(p.a)({},a.currentOrder.delay),{},{value:n.text,date:n.diff,from:n.from,to:n.to})})});case B:return Object(p.a)(Object(p.a)({},a),{},{dateIsValid:n.flag});case _:return Object(p.a)(Object(p.a)({},a),{},{price:Object(p.a)(Object(p.a)({},a.price),{},{value:a.price.min+n.price<a.price.max?a.price.min+n.price:a.price.max})});case D:return Object(p.a)(Object(p.a)({},a),{},{orderId:n.id});case L:return Object(p.a)(Object(p.a)({},a),{},{orderStatus:n.status});case U:return Object(p.a)(Object(p.a)({},a),{},{temporaryOrder:n.order});default:return a}}}),ge=Object(Oe.createStore)(ve,Object(he.composeWithDevTools)(Object(Oe.applyMiddleware)(fe.a))),ye=a(45),Ae=a.n(ye),Ce="https://api-factory.simbirsoft1.com",Ne=Ae.a.create({baseURL:"https://api-factory.simbirsoft1.com",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b",Authorization:"Bearer ".concat("52efbe08228671240494f537f2486bc109a637b4")}}),Ee=function(e){var t=ge.getState().app.tableCars,a=e?t.filter((function(t){return t.categoryId?t.categoryId.id===e:""})):t;ge.dispatch({type:m,payload:a})},ke=function(e){ge.dispatch(function(e){return{type:f,payload:e}}(e))},we=function(){var e=Object(be.a)(pe.a.mark((function e(t){var a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne({method:"GET",url:"/api/db/car"});case 3:a=e.sent,t((n=a.data.data,{type:O,payload:n})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.response);case 10:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Te,Ie=function(e){return n.createElement("svg",Se({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 172 172"},e),n.createElement("g",{fill:"none",strokeMiterlimit:10,fontFamily:"none",fontWeight:"none",fontSize:"none",textAnchor:"none",style:{mixBlendMode:"normal"}},me||(me=n.createElement("path",{d:"M0 172V0h172v172z"})),xe||(xe=n.createElement("path",{d:"M126.133 86a5.718 5.718 0 01-1.68 4.053L67.12 147.387a5.733 5.733 0 01-9.787-4.054V28.667a5.733 5.733 0 019.787-4.053l57.333 57.333a5.718 5.718 0 011.68 4.053z",fill:"#ccc"}))))},Me=(a(126),[{text:"\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",path:""},{text:"\u041c\u043e\u0434\u0435\u043b\u044c",path:"model"},{text:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e",path:"extra"},{text:"\u0418\u0442\u043e\u0433\u043e",path:"total"}]),Re=function(e){var t,a=e.page,n=e.confirm,c=e.city,r=Object(s.c)((function(e){return e.app.currentStep})),o=Object(s.c)((function(e){return e.app.currentCity.name}));return Object(se.jsxs)("nav",{className:"navBar",children:[Object(se.jsxs)("header",{className:"navBar-header",children:[Object(se.jsx)("h1",{className:"header-title",children:"Need for drive"}),Object(se.jsx)("section",{className:"sideBar-map",children:Object(se.jsxs)("span",{className:"header-map",children:[Object(se.jsx)("img",{src:"https://img.icons8.com/plumpy/24/000000/google-maps-new.png",alt:"google-map"}),null!==(t=null!==o&&void 0!==o?o:c)&&void 0!==t?t:""]})})]}),Object(se.jsx)("section",{className:"navBar-nav",children:n?Object(se.jsxs)("h1",{children:["\u0417\u0430\u043a\u0430\u0437 \u043d\u043e\u043c\u0435\u0440 RU",n]}):Me.map((function(e,t){return Object(se.jsxs)("span",{className:u()({active:t===a,complete:t<r}),children:[t?Object(se.jsx)(Ie,{}):"",Object(se.jsx)(i.b,{className:u()({disabled:t>r}),to:"/car-sharing/order/".concat(e.path),children:e.text})]},e.text)}))})]})},Be=(a(127),function(e){var t=e.arr;return Object.keys(t).map((function(e){return t[e].value?Object(se.jsxs)("section",{className:"sideBar-info-content",children:[Object(se.jsx)("span",{className:"place",children:t[e].text}),Object(se.jsx)("span",{className:"dots",children:"......................"}),Object(se.jsx)("div",{className:"address",children:Object(se.jsx)("span",{children:"\u0414\u0430"})})]},t[e].text):""}))}),_e=function(e){var t=e.children,a=Object(s.c)((function(e){return e.app.currentOrder})),n=Object(s.c)((function(e){return e.app.price}));return Object(se.jsxs)("aside",{className:"sideBar",children:[Object(se.jsx)("header",{className:"sideBar-info-title sideBar-child",children:Object(se.jsx)("h1",{children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437:"})}),Object(se.jsx)("main",{className:"sideBar-parameters sideBar-child",children:Object.keys(a).map((function(e){var t,n;return"additional"===e?Object(se.jsx)(Be,{arr:a[e]},a[e]):a[e].value&&Object(se.jsxs)("section",{className:"sideBar-info-content",children:[Object(se.jsx)("span",{className:"place",children:a[e].text}),Object(se.jsx)("span",{className:"dots",children:"......................"}),Object(se.jsx)("div",{className:"address",children:Object(se.jsx)("span",{children:"place"===e?"".concat(null!==(t=a[e].value.city)&&void 0!==t?t:"",",\n").concat(null!==(n=a[e].value.street)&&void 0!==n?n:""):a[e].value})})]},a[e].text)}))}),Object(se.jsxs)("section",{className:"sideBar-info-price sideBar-child",children:["\u0426\u0435\u043d\u0430",Object(se.jsxs)("span",{children:[n.value?" ".concat(n.value," p"):" \u043e\u0442 ".concat(n.min," p \u0434\u043e ").concat(n.max," p")," "]})]}),t]})},De=(a(128),function(e){var t=e.children,a=e.path,c=e.step,r=e.text,s=e.page,o=e.arrayValid,l=Object(n.useState)(!1),u=Object(oe.a)(l,2),d=u[0],j=u[1];return Object(n.useEffect)((function(){o&&j(o.some((function(e){return!e})))}),[o]),Object(se.jsxs)("div",{className:"location-page",children:[Object(se.jsx)(ie,{}),Object(se.jsx)(Re,{page:s}),t,Object(se.jsx)(_e,{children:Object(se.jsx)(i.b,{className:"button",to:"/car-sharing/order/".concat(a),children:Object(se.jsx)("button",{type:"button",onClick:function(){return ke(c)},className:"sideBar-button sideBar-child",disabled:d,children:r})})})]})}),Le=[54.3282,48.3866],Ue=[{name:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a",price:500,key:"isFullTank"},{name:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e",price:200,key:"isNeedChildChair"},{name:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c",price:1600,key:"isRightWheel"}],Pe={name:"\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438",id:""},Fe=function(){var e=Object(be.a)(pe.a.mark((function e(t){var a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne({method:"GET",url:"/api/db/category"});case 3:(a=e.sent).data.data.unshift(Pe),t((n=a.data.data,{type:E,categories:n})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.response);case 11:case"end":return e.stop()}var n}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(s.b)(),t=Object(n.useState)(0),a=Object(oe.a)(t,2),c=a[0],r=a[1],i=Object(s.c)((function(e){return e.app.categories}));return Object(n.useEffect)((function(){i.length||e(Fe)}),[i.length]),i.map((function(e,t){return Object(se.jsxs)("label",{className:u()({active:t===c}),htmlFor:t,children:[Object(se.jsx)("input",{type:"radio",defaultChecked:0===t,name:"category",id:t,value:e.name,onChange:function(){return a=t,n=e.id,Ee(n),void r(+a);var a,n}}),e.name]},e.id)}))},Qe=function(e){var t=e.item,a=e.handleClick,n=e.inputCar;return Object(se.jsxs)("button",{type:"button",className:u()({car:!0,active:t.id===n}),onClick:function(){a(t)},children:[Object(se.jsxs)("div",{children:[Object(se.jsx)("h1",{className:"car-title",children:t.name}),Object(se.jsxs)("span",{className:"car-subtitle",children:[t.priceMin," - ",t.priceMax," P"]})]}),Object(se.jsx)("img",{crossOrigin:"anonymous",referrerPolicy:"origin",src:Ce+t.thumbnail.path,alt:t.name})]})},Ye=(a(129),function(){return Object(se.jsx)("div",{className:"preloader"})}),Ge=function(e){var t=e.nextStep,a=e.page,c=Object(s.b)(),r=Object(n.useState)(""),i=Object(oe.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)(!1),d=Object(oe.a)(u,2),j=d[0],p=d[1],b=Object(s.c)((function(e){return e.app.tableCars})),O=Object(s.c)((function(e){return e.app.newTableCars})),f=Object(s.c)((function(e){return e.app.currentCar}));function m(e){var t;l(e.id===o?"":e.id),p(e.id!==o),c((t=e.id===o?{name:""}:e,{type:h,payload:t}))}return Object(n.useEffect)((function(){b.length||c(we),o||""===f.id||(l(f.id),p(!0))}),[b.length]),Object(se.jsx)(De,{path:"extra",step:t,text:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e",page:a,arrayValid:[j],children:b.length?Object(se.jsxs)("main",{className:"model-content",children:[Object(se.jsx)("section",{className:"model-input",children:Object(se.jsx)(Ve,{})}),Object(se.jsx)("section",{className:"model-cars",children:O.length?O.map((function(e){return Object(se.jsx)(Qe,{handleClick:m,inputCar:o,item:e},e.id)})):"\u041c\u0430\u0448\u0438\u043d\u044b \u0434\u0430\u043d\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"})]}):Object(se.jsx)(Ye,{})})},Ke=(a(130),function(){var e=Object(s.b)(),t=Object(n.useState)(0),a=Object(oe.a)(t,2),c=a[0],r=a[1],i=Object(s.c)((function(e){return e.app.currentCar}));Object(n.useEffect)((function(){e(X(i.colors[0]))}),[]);return Object(se.jsxs)("div",{className:"extra-main-color",children:[Object(se.jsx)("h3",{children:"\u0426\u0432\u0435\u0442"}),Object(se.jsx)("section",{className:"extra-color",children:i.colors.map((function(t,a){return Object(se.jsxs)("label",{className:u()({active:a===c}),htmlFor:t,children:[Object(se.jsx)("input",{type:"radio",name:"color",value:t,id:t,onChange:function(){return function(t,a){r(t),e(X(a))}(a,t)}}),t]},t)}))})]})}),We=a(76),Ze=a.n(We),ze=a(83);a(131);function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var He=function(e){return n.createElement("svg",Xe({width:10,height:10,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Te||(Te=n.createElement("path",{d:"M8 .806L7.194 0 4 3.194.806 0 0 .806 3.194 4 0 7.194.806 8 4 4.806 7.194 8 8 7.194 4.806 4 8 .806z",fill:"#121212"})))},Je=function(e){var t=e.minDate,a=e.onChange,n=e.onClose,c=e.filterTime,r=e.popperPlacement,s=void 0===r?"bottom-start":r,i=e.selected,o=e.disabled;return Object(se.jsxs)("div",{className:"extra-date-range",children:[Object(se.jsx)(Ze.a,{popperPlacement:s,wrapperClassName:"inp",minDate:t,selected:i,onChange:a,timeInputLabel:"Time:",filterTime:c,showTimeSelect:!0,dateFormat:"Pp",timeFormat:"p",timeIntervals:15,locale:ze.a,disabled:o}),Object(se.jsx)("button",{type:"button",onClick:n,className:"btn-close open",children:Object(se.jsx)(He,{})})]})},qe=a(79),$e=a(80),et=a(85),tt=a(84),at=function(e){Object(et.a)(a,e);var t=Object(tt.a)(a);function a(e,n){var c;return Object(qe.a)(this,a),(c=t.call(this)).from=e,c.to=n,c}return Object($e.a)(a,[{key:"inMinutes",value:function(e,t,a){return Math.floor((this.to-this.from)/6e4-7*e*1440-60*a-1440*t)}},{key:"totalMinutes",value:function(){return Math.floor((this.to-this.from)/6e4)}},{key:"inHours",value:function(e,t){return Math.floor((this.to-this.from)/36e5-24*t-24*e*7)}},{key:"inDays",value:function(e){return Math.floor((this.to-this.from)/864e5-7*e)}},{key:"totalDays",value:function(){return Math.ceil((this.to-this.from)/864e5)}},{key:"inWeeks",value:function(){return Math.floor((this.to-this.from)/6048e5)}},{key:"totalWeeks",value:function(){return Math.round((this.to-this.from)/6048e5)}}]),a}(n.Component),nt=function(){var e=ge.getState().app.currentOrder.delay.date;if(e){var t=e.weeks.value>=4,a=t||e.weeks.value;return[!1,!(t||a||e.days.value),!a,!t]}},ct=function(e,t){if(!e||!t)return ge.dispatch(J("",e,t));var a=t.getTime(),n=e.getTime();if(a-n<=0)return ge.dispatch(q(!1));var c=new at(n,a),r=c.inWeeks(),s=c.inDays(r),i=c.inHours(r,s),o=c.inMinutes(r,s,i),l={weeks:{value:r,total:c.totalWeeks(),unit:"\u043d\u0435\u0434"},days:{value:s,total:c.totalDays(),unit:"\u0434"},hours:{value:i,unit:"\u0447"},minutes:{value:o,total:c.totalMinutes(),unit:"\u043c\u0438\u043d"}},u="";u=Object.keys(l).map((function(e){return l[e].value?"".concat(u," ").concat(l[e].value).concat(l[e].unit):""})),ge.dispatch(J(l,u,e,t)),ge.dispatch(q(!0))},rt=function(e){var t=e.dateIsValid,a=e.startDate,c=e.setStartDate,r=e.endDate,s=e.setEndDate;Object(n.useEffect)((function(){a?a&&r&&ct(a,r):s("")}),[a,r]);return Object(se.jsxs)("div",{children:[Object(se.jsx)("h1",{children:"\u0414\u0430\u0442\u0430 \u0430\u0440\u0435\u043d\u0434\u044b"}),Object(se.jsxs)("div",{className:"extra-date",children:[Object(se.jsxs)("section",{className:"city-content",children:[Object(se.jsx)("span",{children:"\u0421"}),Object(se.jsx)(Je,{onChange:function(e){c(e);var t=new Date(e);t.setMinutes(t.getMinutes()+30),r<=e&&s(t)},onClose:function(){return c("")},minDate:new Date,selected:a,filterTime:function(e){var t=new Date,a=new Date(e);return t.getTime()<a.getTime()},popperPlacement:"top-end"}),Object(se.jsx)("span",{children:a?"":"\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"})]}),Object(se.jsxs)("section",{className:"city-content",children:[Object(se.jsx)("span",{children:"\u041f\u043e"}),Object(se.jsx)(Je,{onChange:s,onClose:function(){return s("")},minDate:a,selected:r,filterTime:function(e){var t=new Date,n=new Date(e);return t.getTime()<n.getTime()&&n.getTime()>a.getTime()},disabled:!a}),Object(se.jsx)("span",{children:r?"":"\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"})]})]}),t?"":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0443\u044e \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b"]})},st=(a(174),function(e){var t=e.active,a=e.children,n=e.total,c=u()({"modal-content":!0,active:t}),r=u()({modal:!0,total:n,active:t});return Object(se.jsx)("div",{className:r,children:Object(se.jsx)("div",{className:c,children:a})})}),it=function(){var e=Object(be.a)(pe.a.mark((function e(t){var a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne({method:"GET",url:"/api/db/rate"});case 3:a=e.sent,t((n=a.data.data,{type:k,tariffs:n})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.response);case 10:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ot=function(e){var t=e.tariffs,a=e.tariffsIsValid,c=e.tariffIsSelect,r=e.inputTariff,i=e.setInputTariff,o=e.startDate,l=e.endDate,d=Object(s.b)(),j=Object(n.useState)(!1),p=Object(oe.a)(j,2),b=p[0],O=p[1],h=Object(s.c)((function(e){return e.app.currentTariff}));Object(n.useEffect)((function(){t.length&&!h.id&&d(H(t[0],t[0].rateTypeId.name))}),[t.length]);return Object(n.useEffect)((function(){h.id&&function(e){var t=ge.getState().app.currentOrder.delay.date;if(t)switch(e.rateTypeId.unit){case"\u043c\u0438\u043d":ge.dispatch($(t.minutes.total*e.price));break;case"\u0441\u0443\u0442\u043a\u0438":ge.dispatch($(t.days.total*e.price));break;case"7 \u0434\u043d\u0435\u0439":ge.dispatch($(t.weeks.total*e.price));break;case"30 \u0434\u043d\u0435\u0439":ge.dispatch($(Math.floor(t.weeks.total/4)*e.price))}}(h)}),[o,l,h.id]),Object(se.jsxs)("div",{children:[Object(se.jsx)("h1",{children:"\u0422\u0430\u0440\u0438\u0444"}),Object(se.jsx)("section",{className:"extra-tariff",children:t.map((function(e,t){return Object(se.jsxs)("label",{className:u()({active:t===r&&!a[t]}),htmlFor:e.rateTypeId.id,children:[Object(se.jsx)("button",{className:u()({"extra-btn":!0,disabled:a[t]}),type:"button",onClick:function(a){"disabled"===a.target.classList[1]?O(!0):function(e,t){i(e),d(H(t,t.rateTypeId.name))}(t,e)},children:"".concat(e.rateTypeId.name,", ").concat(e.price," P/").concat(e.rateTypeId.unit)}),Object(se.jsxs)(st,{active:b,children:[Object(se.jsx)("h1",{className:"title",children:"\u0422\u0430\u0440\u0438\u0444 \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0432\u0443\u0435\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0439 \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0430\u0440\u0435\u043d\u0434\u044b"}),Object(se.jsx)("button",{className:"success",type:"button",onClick:function(){return O(!1)},children:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e"})]})]},e.id)}))}),c?"":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0430\u0440\u0438\u0444"]})},lt=function(){var e=Object(s.b)(),t=Object(n.useState)([]),a=Object(oe.a)(t,2),c=a[0],r=a[1],i=function(t,a){if(c.includes(a)){var n=c.findIndex((function(e){return e===a}));e(function(e){return{type:M,item:e}}(t)),c.splice(n,1),r(Object(j.a)(c))}else e(function(e){return{type:I,item:e}}(t)),r([].concat(Object(j.a)(c),[a]))};return Object(se.jsxs)("div",{children:[Object(se.jsx)("h1",{children:"\u0414\u043e\u043f \u0443\u0441\u043b\u0443\u0433\u0438"}),Object(se.jsx)("section",{className:"extra-additional",children:Ue.map((function(e,t){return Object(se.jsxs)("label",{htmlFor:e.name,children:["".concat(e.name,", ").concat(e.price,"P"),Object(se.jsx)("input",{type:"checkbox",onChange:function(){return i(e,t)},name:"additional",id:e.name,value:e.name}),Object(se.jsx)("span",{className:"check-mark"})]},e.name)}))})]})},ut=function(e){var t=e.nextStep,a=e.page,c=Object(s.b)(),r=Object(n.useState)(new Date),i=Object(oe.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)(o?new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes()+30):""),d=Object(oe.a)(u,2),j=d[0],p=d[1],b=Object(n.useState)([]),O=Object(oe.a)(b,2),h=O[0],f=O[1],m=Object(n.useState)(!0),x=Object(oe.a)(m,2),v=x[0],g=x[1],y=Object(n.useState)(0),A=Object(oe.a)(y,2),C=A[0],N=A[1],E=Object(s.c)((function(e){return e.app.tariffs})),k=Object(s.c)((function(e){return e.app.dateIsValid}));return Object(n.useEffect)((function(){E.length||c(it),f(nt)}),[E.length,o,j]),Object(n.useEffect)((function(){g(!E.some((function(e,t){return t===C&&h[t]})))}),[o,j,C,h]),Object(se.jsx)(De,{path:"total",step:t,page:a,text:"\u0418\u0442\u043e\u0433\u043e",arrayValid:[k,o,j,v],children:Object(se.jsxs)("main",{className:"extra-content",children:[Object(se.jsx)(Ke,{}),Object(se.jsx)(rt,{dateIsValid:k,startDate:o,setStartDate:l,endDate:j,setEndDate:p}),Object(se.jsx)(ot,{tariffIsSelect:v,tariffsIsValid:h,tariffs:E,inputTariff:C,setInputTariff:N,setTariffIsSelect:g,startDate:o,endDate:j}),Object(se.jsx)(lt,{})]})})},dt=(a(175),function(){var e,t=Object(s.c)((function(e){return e.app.currentCar})),a=Object(s.c)((function(e){return e.app.currentOrder}));return Object(se.jsxs)("div",{className:"total-content-main",children:[Object(se.jsxs)("section",{className:"total-content-info",children:[Object(se.jsx)("h1",{children:t.name}),t.number?Object(se.jsx)("span",{className:"number",children:t.number}):"",Object(se.jsx)("section",{className:"text",children:Object(se.jsx)("span",{children:"\u0422\u043e\u043f\u043b\u0438\u0432\u043e ".concat(a.additional.isFullTank.value?" 100":null!==(e=t.tank)&&void 0!==e?e:" 0","%")})}),Object(se.jsxs)("section",{className:"text",children:[Object(se.jsx)("span",{children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 c"})," ",a.delay.from.toLocaleString()]})]}),Object(se.jsx)("img",{src:Ce+t.thumbnail.path,alt:t.name})]})}),jt=function(e){return function(){var t=Object(be.a)(pe.a.mark((function t(a){var n;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ne({method:"POST",url:"/api/db/order",data:e});case 3:n=t.sent,a((c=n.data.data.id,{type:D,id:c})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0.response);case 10:case"end":return t.stop()}var c}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},pt=function(){var e=ge.getState().app.currentCity,t=ge.getState().app.currentAddress,a=ge.getState().app.currentCar,n=ge.getState().app.currentOrder.color.value,c=ge.getState().app.currentOrder.delay.from,r=ge.getState().app.currentOrder.delay.to,s=ge.getState().app.currentTariff,i=ge.getState().app.price.value,o=ge.getState().app.currentOrder.additional,l={orderStatusId:{id:"5e26a191099b810b946c5d89"},cityId:e,pointId:t,carId:a,color:n,dateFrom:c.getTime(),dateTo:r.getTime(),rateId:s,price:i,isFullTank:o.isFullTank.value,isNeedChildChair:o.isNeedChildChair.value,isRightWheel:o.isRightWheel.value};ge.dispatch(jt(l))},bt=(jt(),function(e){return function(){var t=Object(be.a)(pe.a.mark((function t(a){return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ne({method:"PUT",url:"/api/db/order/".concat(e),data:{orderStatusId:{id:"5e26a1f0099b810b946c5d8b"}}});case 3:a({type:L,status:!0}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0.response);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}),Ot=function(e){var t=e.page,a=Object(s.b)(),c=Object(n.useState)(!1),r=Object(oe.a)(c,2),o=r[0],l=r[1],u=Object(s.c)((function(e){return e.app.orderId})),d=Object(s.c)((function(e){return e.app.currentOrder}));return Object(n.useEffect)((function(){a(pt)}),[d]),Object(se.jsxs)("div",{className:"location-page",children:[Object(se.jsx)(ie,{}),Object(se.jsx)(Re,{page:t}),Object(se.jsx)("main",{className:"total-content",children:Object(se.jsx)(dt,{})}),Object(se.jsx)(_e,{children:Object(se.jsx)("button",{type:"button",onClick:function(){l(!0)},className:"button sideBar-button sideBar-child",children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"})}),Object(se.jsxs)(st,{active:o,total:!0,children:[Object(se.jsx)("h1",{className:"title",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}),Object(se.jsx)(i.b,{className:"button",to:"/car-sharing/order/confirm/".concat(u),children:Object(se.jsx)("button",{type:"button",className:"success",onClick:function(){return a(bt(u))},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})}),Object(se.jsx)("button",{type:"button",className:"canceled",onClick:function(){return l(!1)},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})]})]})},ht=(a(176),function(e,t){return function(){var a=Object(be.a)(pe.a.mark((function a(n){var c;return pe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ae.a.get("".concat("https://nominatim.openstreetmap.org/search","?q=").concat(e,"&format=json&addressdetails=1&limit=1"));case 3:(c=a.sent).data[0]&&(c.data[0].id=t.id,c.data[0].cityId=t.cityId,n((r=c.data[0],{type:C,placeMark:r}))),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error(a.t0.response);case 10:case"end":return a.stop()}var r}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}),ft=(ht(),function(e,t){var a=Object(n.useState)({value:!1,text:""}),c=Object(oe.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)({value:!1,text:"",array:[]}),o=Object(oe.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)({value:!1,text:""}),j=Object(oe.a)(d,2),p=j[0],b=j[1];return Object(n.useEffect)((function(){Object.keys(t).forEach((function(a){switch(a){case"isCompareCity":var n=t[a].array.find((function(t){return e.toLowerCase()===t.name.toLowerCase()}));n&&e&&function(e){var t=ge.getState().app.placeMarks,a=ge.getState().app.currentAddress;e.name!==a.city&&ge.dispatch(W("",e));var n=t.filter((function(t){return e.name===t.address.city}));ge.dispatch(K(e)),ge.dispatch(Z(n)),ge.dispatch(z(n.length?n[0]:{}))}(n),u({value:!!e&&!n,text:n||!e?"":t[a].text});break;case"isCompareAddress":var c,r=t[a].array.find((function(t){var a;return e.toLowerCase()==="".concat(t.address.road," ").concat(null!==(a=t.address.house_number)&&void 0!==a?a:"").toLowerCase()}));if(r)i="".concat(r.address.road," ").concat(null!==(c=r.address.house_number)&&void 0!==c?c:""),o=r.cityId,l=r,ge.dispatch(W(i,o,l.id)),ge.dispatch(z(l));u({value:!r,text:r?"":t[a].text});break;case"isEmpty":s(e?{value:!1,text:""}:{value:!0,text:t[a].text})}var i,o,l}))}),[e]),Object(n.useEffect)((function(){l.value||r.value?b({value:!1,text:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}):b({value:!0,text:""})}),[l.value,r.value]),{isEmpty:r,isCompareError:l,inputValid:p}}),mt=function(e,t){var a=Object(n.useState)(e),c=Object(oe.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(!1),o=Object(oe.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)(!1),j=Object(oe.a)(d,2),b=j[0],O=j[1],h=ft(r,t);return Object(p.a)({value:r,focus:l,onChange:function(e){s(e.target.value),function(e){var t=ge.getState().app.cities,a=new RegExp(e.toLowerCase());ge.dispatch(G(t.filter((function(e){return a.test(e.name.toLowerCase())}))))}(e.target.value)},onChangeAddress:function(e){s(e.target.value),function(e){var t=ge.getState().app.placeMarks,a=ge.getState().app.currentCity,n=new RegExp(e.toLowerCase());ge.dispatch(Z(t.filter("name"in a?function(e){if(e.address.city&&a.name===e.address.city)return n.test("".concat(e.address.road," ").concat(e.address.house_number).toLowerCase())}:function(e){return n.test("".concat(e.address.road," ").concat(e.address.house_number).toLowerCase())})))}(e.target.value)},onBlur:function(){O(!0),u(!1)},onFocus:function(){u(!0),O(!1)},onClick:function(e){s(e),u(!1)},onClose:function(){s(""),u(!0)},isDirty:b,printError:function(e){var t=!1;return e.map((function(e){return!(!t&&h[e].value)||(t=!0,h[e].text)}))}},h)},xt=a(23),vt=a.n(xt),gt=a(188),yt=a(189),At=a(192),Ct=a(190),Nt=a(191),Et=a(82),kt=(a(177),new vt.a.icon({iconUrl:Et.a,iconSize:[25,41],iconAnchor:[10,41],popupAnchor:[2,-40]}));function wt(){var e=Object(s.c)((function(e){return e.app.placeMarkIndex})),t=Object(gt.a)();return Object(n.useEffect)((function(){Object.keys(e).length&&t.flyTo([+e.lat,+e.lon],t.getZoom())}),[e]),null}var St=function(){var e=Object(s.c)((function(e){return e.app.placeMarks})),t=Object(s.c)((function(e){return e.app.burger_status})),a=u()({map:!0,open:t});return Object(se.jsx)("div",{className:a,children:Object(se.jsxs)(yt.a,{style:{height:"450px",width:"100%"},center:Le,zoom:11,children:[Object(se.jsx)(At.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.length&&e.map((function(e){return Object(se.jsxs)(Ct.a,{position:[e.lat,e.lon],icon:kt,children:[Object(se.jsx)(wt,{}),Object(se.jsx)(Nt.a,{children:"".concat(e.address.city," ").concat(e.address.road)})]},e.place_id)}))]})})},Tt=function(e){var t=e.value,a=e.click,n=e.text;return Object(se.jsx)("button",{type:"button",onClick:a,value:t,children:n})},It=function(e){var t=e.value,a=e.name,n=e.onChange,c=e.placeholder;return Object(se.jsx)("input",{type:"text",value:t,onChange:n,name:a,placeholder:c,id:a,autoComplete:"off"})},Mt=function(e){var t=e.input,a=e.array,c=e.current,r=e.auto,s=e.title,i=e.onChange,o=e.print,l=e.id;Object(n.useEffect)((function(){c&&t.onClick(c)}),[c]);var d=u()({"btn-close":!0,open:t.focus&&t.value}),j=u()({"auto-address":!0,open:t.focus&&r});return Object(se.jsxs)("div",{className:"city-content",children:[Object(se.jsx)("span",{children:s}),Object(se.jsxs)("section",{className:"city-content-main",onFocus:t.onFocus,onBlur:t.onBlur,children:[Object(se.jsx)(It,{name:l,value:t.value,onChange:i,placeholder:"city"===l?"":"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438"}),Object(se.jsx)("button",{type:"button",onClick:t.onClose,className:d,children:Object(se.jsx)(He,{})}),Object(se.jsx)("div",{className:j,children:a.length?a.map((function(e){var t,a,n,c,r;return Object(se.jsx)(Tt,{value:null!==(a=e.name)&&void 0!==a?a:"".concat(e.address.road," ").concat(null!==(n=e.address.house_number)&&void 0!==n?n:""),click:i,text:null!==(c=e.name)&&void 0!==c?c:"".concat(e.address.city," ").concat(e.address.road," ").concat(null!==(r=e.address.house_number)&&void 0!==r?r:"")},null!==(t=e.name)&&void 0!==t?t:e.address.road)})):""})]}),Object(se.jsx)("span",{children:t.isDirty&&t.printError(o)})]})},Rt=function(e){var t=e.nextStep,a=e.page,c=Object(s.b)(),r=Object(s.c)((function(e){return e.app.placeMarks})),i=Object(s.c)((function(e){return e.app.newCities})),o=Object(s.c)((function(e){return e.app.newPlaceMarks})),l=Object(s.c)((function(e){return e.app.addresses})),u=Object(s.c)((function(e){return e.app.currentAddress})),d=Object(s.c)((function(e){return e.app.currentCity})),j=mt("",{isEmpty:{text:"\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435",value:!0},isCompareAddress:{text:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043b\u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430",value:!1,array:o}}),p=mt("",{isCompareCity:{text:"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0438\u043b\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",value:!1,array:i}});return Object(n.useEffect)((function(){r.length?function(){var e=ge.getState().app.addresses,t=ge.getState().app.cities,a=[];t.forEach((function(t){e.some((function(e){return e.cityId.name===t.name}))&&a.push(t)})),ge.dispatch(Y(a))}():(c(function(){var e=Object(be.a)(pe.a.mark((function e(t){var a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne({method:"GET",url:"/api/db/city",params:{limit:6}});case 3:a=e.sent,t(Y(a.data.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),c(function(){var e=Object(be.a)(pe.a.mark((function e(t){var a,n;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne({method:"GET",url:"/api/db/point",params:{limit:7}});case 3:a=e.sent,n=a.data.data.filter((function(e){return e.cityId})),t({type:A,payload:n}),n.forEach((function(e){ge.dispatch(ht("".concat(e.cityId.name," ").concat(e.address),e))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))}),[r.length]),Object(n.useEffect)((function(){!p.value&&p.focus?(j.onClick(""),function(){var e=ge.getState().app.placeMarks,t=ge.getState().app.cities;ge.dispatch(K({})),ge.dispatch(W("",{})),ge.dispatch(G(t)),ge.dispatch(Z(e))}()):p.value&&u.city!==p.value&&!p.isCompareError.value&&j.onClick("")}),[p.value]),Object(n.useEffect)((function(){j.focus&&!j.value&&p.inputValid.value&&(p.value||c(Z(r)),c(W("",null!==d&&void 0!==d?d:{})))}),[j.value]),Object(se.jsx)(De,{path:"model",text:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c",step:t,page:a,arrayValid:[j.inputValid.value,p.inputValid.value],children:r.length>=l.length-1?Object(se.jsxs)("main",{className:"location-content",children:[Object(se.jsxs)("section",{className:"location-city",children:[Object(se.jsx)(Mt,{current:d.name,auto:p.isCompareError.value||!p.value,title:"\u0413\u043e\u0440\u043e\u0434",onChange:p.onChange,print:["isCompareError"],input:p,array:i,id:"city"}),Object(se.jsx)(Mt,{current:u.name,auto:j.isCompareError.value,title:"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",onChange:j.onChangeAddress,print:["isEmpty","isCompareError"],input:j,array:o,id:"place"})]}),Object(se.jsxs)("section",{className:"location-map",children:[Object(se.jsx)("h3",{children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0430 \u043a\u0430\u0440\u0442\u0435:"}),Object(se.jsx)(St,{})]})]}):Object(se.jsx)(Ye,{})})},Bt=(a(178),function(e){return function(){var t=Object(be.a)(pe.a.mark((function t(a){var n;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ne({method:"GET",url:"/api/db/order/".concat(e)});case 3:n=t.sent,a((c=n.data.data,{type:U,order:c})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0.response);case 10:case"end":return t.stop()}var c}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}),_t=function(e){var t=e.text,a=e.value;return Object(se.jsxs)("section",{className:"sideBar-info-content",children:[Object(se.jsx)("span",{className:"place",children:t}),Object(se.jsx)("span",{className:"dots",children:"......................"}),Object(se.jsx)("div",{className:"address",children:Object(se.jsx)("span",{children:a})})]})},Dt=function(e){var t,a,c=e.parameters,r=e.children,i=Object(s.c)((function(e){return e.app.currentOrder.delay.value}));return Object(n.useEffect)((function(){i||ct(new Date(c.dateFrom),new Date(c.dateTo))}),[i]),Object(se.jsxs)("aside",{className:"sideBar",children:[Object(se.jsx)("header",{className:"sideBar-info-title sideBar-child",children:Object(se.jsx)("h1",{children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437:"})}),Object(se.jsxs)("main",{className:"sideBar-parameters sideBar-child",children:[Object(se.jsx)(_t,{text:"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",value:"".concat(null!==(t=c.cityId.name)&&void 0!==t?t:"","\n\n          ").concat(null!==(a=c.pointId.address)&&void 0!==a?a:"")}),Object(se.jsx)(_t,{text:"\u041c\u043e\u0434\u0435\u043b\u044c",value:c.carId.name}),Object(se.jsx)(_t,{text:"\u0426\u0432\u0435\u0442",value:c.color}),Object(se.jsx)(_t,{text:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b",value:null!==i&&void 0!==i?i:""}),Object(se.jsx)(_t,{text:"\u0422\u0430\u0440\u0438\u0444",value:c.rateId.rateTypeId.name}),Ue.map((function(e){return c[e.key]?Object(se.jsx)(_t,{text:e.name,value:"\u0414\u0430"},e.key):""}))]}),Object(se.jsxs)("section",{className:"sideBar-info-price sideBar-child",children:["\u0426\u0435\u043d\u0430 ",Object(se.jsx)("span",{children:c.price})]}),r]})};function Lt(e){var t=e.number;if(t)return Object(se.jsx)("span",{className:"number",children:t})}function Ut(e){var t,a=e.fullTank,n=e.carTank;return t=a?100:n||0,Object(se.jsx)("span",{children:"\u0422\u043e\u043f\u043b\u0438\u0432\u043e ".concat(t,"%")})}var Pt=function(e){var t=Object(s.b)(),a=e.match.params.id,c=Object(s.c)((function(e){return e.app.temporaryOrder}));return Object(n.useEffect)((function(){a&&t(Bt(a))}),[a]),Object.keys(c).length?Object(se.jsxs)("div",{className:"location-page",children:[Object(se.jsx)(ie,{}),Object(se.jsx)(Re,{confirm:a,city:c.cityId?c.cityId.name:""}),Object(se.jsxs)("main",{className:"confirm-content",children:[Object(se.jsx)("h1",{children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0451\u043d"}),Object(se.jsxs)("div",{className:"total-content-main",children:[Object(se.jsxs)("section",{className:"total-content-info",children:[Object(se.jsx)("h1",{children:c.carId.name}),Object(se.jsx)(Lt,{number:c.carId.number}),Object(se.jsx)("section",{className:"text",children:Object(se.jsx)(Ut,{carTank:c.carId.tank,fullTank:c.isFullTank})}),Object(se.jsx)("section",{className:"text",children:Object(se.jsxs)("span",{children:["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 c ",new Date(c.dateFrom).toLocaleString()]})})]}),Object(se.jsx)("img",{src:Ce+c.carId.thumbnail.path,alt:c.carId.name})]})]}),Object(se.jsx)(Dt,{parameters:c,children:Object(se.jsx)("button",{type:"button",className:"button confirm-content-button",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]}):Object(se.jsx)(Ye,{})};var Ft=function(){return Object(se.jsx)(i.a,{children:Object(se.jsxs)(o.c,{children:[Object(se.jsx)(o.a,{exact:!0,path:"/car-sharing/",component:de}),Object(se.jsx)(o.a,{exact:!0,path:"/car-sharing/order",render:function(){return Object(se.jsx)(Rt,{page:0,nextStep:1})}}),Object(se.jsx)(o.a,{path:"/car-sharing/order/model",render:function(){return Object(se.jsx)(Ge,{page:1,nextStep:2})}}),Object(se.jsx)(o.a,{path:"/car-sharing/order/extra",render:function(){return Object(se.jsx)(ut,{page:2,nextStep:3})}}),Object(se.jsx)(o.a,{path:"/car-sharing/order/total",render:function(){return Object(se.jsx)(Ot,{page:3,nextStep:3})}}),Object(se.jsx)(o.a,{path:"/car-sharing/order/confirm/:id",component:Pt})]})})};r.a.render(Object(se.jsx)(s.a,{store:ge,children:Object(se.jsx)(Ft,{})}),document.getElementById("root"))},89:function(e,t,a){},99:function(e,t,a){}},[[179,1,2]]]);
//# sourceMappingURL=main.32bbfba2.chunk.js.map