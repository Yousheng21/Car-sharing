(this["webpackJsonpcar-sharing"]=this["webpackJsonpcar-sharing"]||[]).push([[0],{100:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},171:function(e,t,a){},173:function(e,t,a){"use strict";a.r(t);a(83);var n=a(0),c=a(27),r=a.n(c),s=a(6),i=a(15),o=a(10),l=a(9),u=a.n(l),d=a(28),j=a(4),p="SET_BURGER_STATUS",b="SET_TABLE_CARS",O="SET_CURRENT_CAR",h="SET_CURRENT_STEP",f="SET_NEW_TABLE_CARS",m="SET_CURRENT_CITY",x="SET_CURRENT_ADDRESS",v="SET_CITIES",g="SET_NEW_CITIES",y="SET_ADDRESSES",A="SET_PLACE_MARKS",C="SET_NEW_PLACE_MARKS",E="SET_CATEGORIES",N="SET_TARIFFS",w="SET_PLACE_MARK_INDEX",S="SET_COLOR",k="SET_TARIFF",T="SET_ADDITIONAL",M="CHANGE_ADDITIONAL",I="SET_DATE_RANGE",R="DATE_IS_VALID",B="SET_PRICE",_={burger_status:!1,currentCity:{},currentOrder:{place:{text:"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",value:{city:"",street:""}},model:{text:"\u041c\u043e\u0434\u0435\u043b\u044c",value:""},color:{text:"\u0426\u0432\u0435\u0442",value:""},delay:{text:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b",value:"",date:{},from:"",to:""},tariff:{text:"\u0422\u0430\u0440\u0438\u0444",value:""},additional:[]},price:{min:0,max:32e3,value:0},tableCars:[],newTableCars:[],cities:[],newCities:[],addresses:[],newAddresses:[],placeMarks:[],newPlaceMarks:[],categories:[],tariffs:[],currentTariff:{},placeMarkIndex:{},currentCar:{colors:["\u041b\u044e\u0431\u043e\u0439"],thumbnail:{path:""},name:""},currentStep:0,currentAddress:{name:"",city:""},dateIsValid:!0};var L,D,U,P=function(e){return{type:v,payload:e}},V=function(e){return{type:g,payload:e}},F=function(e){return{type:m,payload:e}},Q=function(e,t){return{type:x,address:e,city:t}},Y=function(e){return{type:C,placeMark:e}},G=function(e){return{type:w,index:e}},K=function(e){return{type:S,color:e}},Z=function(e,t){return{type:k,tariff:e,value:t}},z=function(e,t,a,n){return{type:I,diff:e,text:t,from:a,to:n}},X=function(e){return{type:R,flag:e}},H=function(e){return{type:B,price:e}};function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var q,W=function(e){return n.createElement("svg",J({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256"},e),L||(L=n.createElement("path",{className:"MenuToggle1_svg__line-1",d:"M9 53.8h237.66"})),D||(D=n.createElement("path",{className:"MenuToggle1_svg__line-2",d:"M9 129.25h237.66"})),U||(U=n.createElement("path",{className:"MenuToggle1_svg__line-3",d:"M9 204.7h237.66"})))};function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var ee=function(e){return n.createElement("svg",$({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256"},e),q||(q=n.createElement("path",{className:"MenuToggle2_svg__cls-1",d:"M9 129.25h237.66"})))},te={li:["\u041f\u0410\u0420\u041a\u041e\u0412\u041a\u0410","\u0421\u0422\u0420\u0410\u0425\u041e\u0412\u041a\u0410","\u0411\u0415\u041d\u0417\u0418\u041d","\u041e\u0411\u0421\u041b\u0423\u0416\u0418\u0412\u0410\u041d\u0418\u0415"],socLink:[{text:"telegram",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAACFUlEQVRIie3VO2hUQRTG8Z/GF0FQJIogiGBcbSxiCrFQ2EYRMY2IVgpipZ2FEmxEEKwkAUVsAoqFCCmiYBARjGksBLURX4VPjCLG+IhEYmIxs2R23VeyG7HIB5fZO+eb+d8995y5zGhGU1cT2vEEwzg83cAWdOEnxpNraDpgc7Ab/QnoN67jQLz/WE9gLp2vE+AXnMHq6GmL87fqAVyHTvxIgM9wDIsLvCdi/PRUYQ3YhTv+TudWzCqxrid6904WuARH8VJ+oXSgucCbRTfmJXNv4ppMtcCMkM7vCfC54ulcgUsYwNpkflnyoLMrAXfidgIbQy+2F1m8AMeFdz0gvPtU2+IedytBzyXArzhb8A9SteFF9H7C+iKe9hjvqAQejMY+LC3hyeBG8oCD2FDCezV69lcCX0k2HMAprIqxhUJLjMjPysYy++UyUiwbeWrAQTyS3zK9eJfMjQtFt7nMXouE+hgWTraq1YoL8g+J3DUiFFs5ZaP33mSgqZrwoQB8uYp1R6L3fLFgxd4SKranYK4vjlmhE4qlsiWOD6pglFSuH3NXM/aY+PRdE3o61eMYa60FPBef40ZvhYN/LN4Px/EmGqO/EaP4hfm1gOFiBIwm4yGhVd7HuX6hmjfF+4e1QmGLiVR/w44ktgavYuw+TsbfXfUAE1LcbaJwUq3EU/m1sK9e4EpaLnyvh4QzoOFfgWf0/+kP39OpbLs1428AAAAASUVORK5CYII="},{text:"facebook",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAA7UlEQVRIie2WPw4BQRSHP2yh3StwABEdCoVr4AQOInEKjqClEY2OKK0tSCQqjW4jNCOZrNk/Zq0l5pe84r28+X0zszObgX9TLuH4AtAAqkAR8IALsANmCb0D1RaAmyKWaUK9AGhqYAtwQqCxwJYGuA6UFfU1sBVgR8M3Un2eVzjhxYOa1wDbitpKTCBVsGrM9R0mH1Gc71IBhlJeEiHLFfHQEeglmxq0CL86qphHmaa11fuswIevBcc5XDZQk/Iu0PH1jIGRlG+AU5hpnF/mGZhKeVPR4/p6IpXZPTZgAzbg3wfrPPYWwEBRMwrVHf9iRMcIXZxjAAAAAElFTkSuQmCC"},{text:"instagram",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAB4klEQVRIie3WPWtUQRQG4McPiKCI5B+IRUhh/ICANkY7QxSVRBtjIZIyf0BEwWAtWChosNC0BtSIf0CilRIsEkXU1hRZQQUtNBb3rMluJnfnrqk0LwxnZ87He2b23DPDOv51bMi068ZObG1h9w3vMfc3ScEZvMVixTGHwbLAZTu+hosR6Dle4WuLRLdhPw7GfAyXW/g04HQQfsKhKo6BPsxHjNKdN+MNfrVBugn96MARS8eehe5weLaKvhMjuBFjJNagN3yPxnw65l05xP1hfDOhO4ealcVUw7CiZnoVO4dbTYn8weZE8I6QPxKk9xR/wW1MBdExXMD9sJtY5vM95JYEzwqcjCyvL1vrVOzqp+JEmjEQupqlYxcxFiNmAzbmZKKozB0Yx9OE/gnuhs2pnIC5xD0hp0psHofcs5bEOchtv5WIZ0IeL7Gp62ZKbCoTT+KzonoHViE9ryiuybUkXsBo2D/CHZyIMY6HoRsN8rZQ1kCGpRvIAs4m7Cs1kI8hU9U5ofh0BrE71l7jgfRO94b8kNAlUb8k+nIdEqhfErNVnIbCaR6H2yStX4vJhlL27Y3hUvx+gZf40oJwO/bhQMyv4kpmsg0YUtynVZ8+s1q0ztxu04Vd8h577xTvtHX85/gNG1aEbjAmkEgAAAAASUVORK5CYII="}]},ae=(a(93),a(1)),ne=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.app.burger_status})),a=function(){e({type:p,payload:!t})},n=u()({"burger-menu":!0,burger__open:t}),c=u()({"svg-1__open":t,"svg-1__default":!t}),r=u()({"svg-2__open":t,"svg-2__default":!t});return Object(ae.jsxs)("div",{className:"burger-page",children:[Object(ae.jsxs)("aside",{className:n,children:[Object(ae.jsxs)("section",{className:"toggle-wrapper",children:[Object(ae.jsx)(W,{onClick:a,className:c}),Object(ae.jsx)(ee,{onClick:a,className:r})]}),Object(ae.jsx)("section",{className:"burger-info",children:te.li.map((function(e){return Object(ae.jsx)(i.b,{to:"/car-sharing/order",onClick:a,children:Object(ae.jsx)("span",{children:e})},e)}))}),Object(ae.jsx)("section",{className:"social-links",children:te.socLink.map((function(e){return Object(ae.jsx)(i.b,{to:"/car-sharing/order",children:Object(ae.jsx)("img",{src:e.img,alt:e.text})},e.text)}))}),Object(ae.jsx)("button",{type:"button",className:"lang",children:Object(ae.jsx)("span",{children:"Eng"})})]}),Object(ae.jsx)("div",{className:"burger__template"})]})},ce=a(7),re=(a(98),[{img:a.p+"static/media/img1.9d6d9a44.png",title:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430",par:"\u041e\u0441\u0442\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043c\u0430\u0448\u0438\u043d\u0443 \u043d\u0430 \u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0438\u0445 \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430\u0445 \u0438 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u0445 \u043c\u0435\u0441\u0442\u0430\u0445, \u043d\u0435 \u043d\u0430\u0440\u0443\u0448\u0430\u044f \u041f\u0414\u0414, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430\u0445.",button__bg:"linear-gradient(90deg,#13493F,#0C7B1B)"},{img:a.p+"static/media/img2.6812641e.png",title:"\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430",par:"\u041f\u043e\u043b\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f",button__bg:"linear-gradient(90deg,#132949,#0C7B67)"},{img:a.p+"static/media/img3.246addc8.png",title:"\u0411\u0435\u043d\u0437\u0438\u043d",par:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a \u043d\u0430 \u043b\u044e\u0431\u043e\u0439 \u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u0437\u0430 \u043d\u0430\u0448 \u0441\u0447\u0451\u0442",button__bg:"linear-gradient(90deg,#493013,#7B0C3B)"},{img:a.p+"static/media/img4.6078199f.png",title:"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435",par:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0435\u0436\u0435\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u043e\u0435 \u0422\u041e",button__bg:"linear-gradient(90deg,#281349,#720C7B)"}]),se=function(){var e=Object(s.c)((function(e){return e.app.burger_status})),t=Object(n.useState)(0),a=Object(ce.a)(t,2),c=a[0],r=a[1];function o(e){e>re.length-1?r(0):r(e<0?re.length-1:e)}return Object(ae.jsxs)("aside",{className:u()({slider:!0,slider__open:e}),children:[Object(ae.jsxs)("main",{className:"slider-container",children:[Object(ae.jsxs)("div",{className:"mySlides fade",children:[Object(ae.jsx)("img",{src:re[c].img,alt:""}),Object(ae.jsxs)("section",{className:"text",children:[Object(ae.jsx)("h1",{children:re[c].title}),Object(ae.jsx)("p",{children:re[c].par}),Object(ae.jsx)(i.b,{to:"/car-sharing/order",children:Object(ae.jsx)("button",{type:"button",style:{background:re[c].button__bg},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})})]})]}),Object(ae.jsx)("button",{type:"button",className:"prev-bg","aria-label":"prev",onClick:function(){o(c-1)}}),Object(ae.jsx)("span",{className:"prev",children:"\u276e"}),Object(ae.jsx)("button",{type:"button",className:"next-bg","aria-label":"next",onClick:function(){o(c+1)}}),Object(ae.jsx)("span",{className:"next",children:"\u276f"})]}),Object(ae.jsx)("section",{className:"dots",children:re.map((function(e,t){return Object(ae.jsx)("button",{type:"button","aria-label":"dots",className:u()({dot:!0,active:t===c}),value:t,onClick:function(e){return t=e.target.attributes.value.value,void o(Number(t));var t}},e.img)}))})]})},ie=(a(99),function(){return Object(ae.jsxs)("div",{className:"home-page",children:[Object(ae.jsx)(ne,{}),Object(ae.jsxs)("main",{className:"main-content",children:[Object(ae.jsxs)("header",{className:"header",children:[Object(ae.jsx)("h1",{className:"header-title",children:"Need for drive"}),Object(ae.jsxs)("span",{className:"header-map",children:[Object(ae.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAB3klEQVRIibXVPYxNQRQH8N/ah4SwFsmKj+ptJKJBXkGjkA2dWkEhUZGISoQoNEKvEo1eRElEVISIj+ZpCCuWDbLBLsn6vIqZZ695c9/e3cQ/mUzmzDnnf86ZMzP8Z/TV0BnCFjQxgAX4jEFcRXu+BA3sRis6LaOJ/ShwAccxPReCBvZhOLO3AkcT25vYmyPpryDYhlVmStLBQhzBokS/ieW4njpKUxcVh/EbL0pR9eEgllQE1Yq2sxJsNJN+gVFMCIfZwjqcwPeSzSguxkz+Qa5EW7E4CaKNG5iK4w5+YCSuz+Br9Pd8tgyWJuvteJXRuyyU8Sw+VdhmCcrdsR6H5butX2jRMnmjDsFUnAdxOjo6kNHbgPuJbDIXRYqVWIOTwi2GnULNX2IZdmG17szexPEXudTX4gp2ZPZgHKfkb+4tvC8LciUaFw4vh2mcr3A+kTqvIihwTChJKj+XcxL3HuQiqnoq3goXaaQku4SHFfpPMDYXAriLTdiM28LTnMMYHlU56erbEgocijrX4jrFF9zr4aPWhzOAPbqz/SU80x97GfcqUQff4jyUyB9Lej6HXBfl8FT4JjuYxLM6hnUJikjSQVv+TOZNAK+Fu/FTRUvmUOcMOiiEpviAd3WN/gCroWJ39xmG2QAAAABJRU5ErkJggg==",alt:"location"}),"\u0423\u043b\u044c\u044f\u043d\u043e\u0432\u0441\u043a"]})]}),Object(ae.jsxs)("section",{className:"heading",children:[Object(ae.jsx)("h1",{children:"\u041a\u0430\u0440\u0448\u0435\u0440\u0438\u043d\u0433"}),Object(ae.jsx)("h1",{className:"sub-title",children:"Need for drive"}),Object(ae.jsx)("h4",{children:"\u041f\u043e\u043c\u0438\u043d\u0443\u0442\u043d\u0430\u044f \u0430\u0440\u0435\u043d\u0434\u0430 \u0430\u0432\u0442\u043e \u0442\u0432\u043e\u0435\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430"}),Object(ae.jsx)(i.b,{to:"/car-sharing/order",children:Object(ae.jsx)("button",{type:"button",className:"btn heading-btn",children:"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]}),Object(ae.jsxs)("footer",{className:"footer",children:[Object(ae.jsx)("span",{className:"footer-title",children:"\xa9 2016-2019 \xabNeed for drive\xbb"}),Object(ae.jsx)("span",{className:"footer-tel",children:Object(ae.jsx)("a",{href:"tel:+74952342244",children:"8 (495) 234-22-44"})})]})]}),Object(ae.jsx)(se,{})]})}),oe=(a(100),a(11)),le=a.n(oe),ue=a(19),de=a(41),je=a(73),pe=a(74);var be,Oe,he=Object(de.combineReducers)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(j.a)(Object(j.a)({},e),{},{burger_status:t.payload});case b:return Object(j.a)(Object(j.a)({},e),{},{tableCars:t.payload,newTableCars:t.payload});case O:return t.payload.colors.length||t.payload.colors.unshift("\u041b\u044e\u0431\u043e\u0439"),Object(j.a)(Object(j.a)({},e),{},{currentCar:t.payload,currentOrder:Object(j.a)(Object(j.a)({},e.currentOrder),{},{model:Object(j.a)(Object(j.a)({},e.currentOrder.model),{},{value:t.payload.name})}),price:{min:t.payload.priceMin,max:t.payload.priceMax}});case f:return Object(j.a)(Object(j.a)({},e),{},{newTableCars:t.payload});case h:return Object(j.a)(Object(j.a)({},e),{},{currentStep:t.payload,currentPage:t.payload});case v:return Object(j.a)(Object(j.a)({},e),{},{cities:t.payload,newCities:t.payload});case g:return Object(j.a)(Object(j.a)({},e),{},{newCities:t.payload});case y:return Object(j.a)(Object(j.a)({},e),{},{addresses:t.payload,newAddresses:t.payload});case m:return Object(j.a)(Object(j.a)({},e),{},{currentCity:t.payload,currentOrder:Object(j.a)(Object(j.a)({},e.currentOrder),{},{place:Object(j.a)(Object(j.a)({},e.currentOrder.place),{},{value:Object(j.a)(Object(j.a)({},e.currentOrder.place.value),{},{city:t.payload.name})})})});case x:return Object(j.a)(Object(j.a)({},e),{},{currentAddress:{name:t.address,city:t.city},currentOrder:Object(j.a)(Object(j.a)({},e.currentOrder),{},{place:Object(j.a)(Object(j.a)({},e.currentOrder.place),{},{value:{city:t.city,street:t.address}})})});case A:return Object(j.a)(Object(j.a)({},e),{},{placeMarks:e.addresses.length>e.placeMarks.length?[].concat(Object(d.a)(e.placeMarks),[t.placeMark]):Object(d.a)(e.placeMarks),newPlaceMarks:e.addresses.length>e.placeMarks.length?[].concat(Object(d.a)(e.placeMarks),[t.placeMark]):Object(d.a)(e.placeMarks)});case C:return Object(j.a)(Object(j.a)({},e),{},{newPlaceMarks:t.placeMark});case E:return Object(j.a)(Object(j.a)({},e),{},{categories:t.categories});case N:return Object(j.a)(Object(j.a)({},e),{},{tariffs:t.tariffs});case w:return Object(j.a)(Object(j.a)({},e),{},{placeMarkIndex:t.index});case S:return Object(j.a)(Object(j.a)({},e),{},{currentOrder:Object(j.a)(Object(j.a)({},e.currentOrder),{},{color:Object(j.a)(Object(j.a)({},e.currentOrder.color),{},{value:t.color})})});case k:return Object(j.a)(Object(j.a)({},e),{},{currentOrder:Object(j.a)(Object(j.a)({},e.currentOrder),{},{tariff:Object(j.a)(Object(j.a)({},e.currentOrder.tariff),{},{value:t.value})}),currentTariff:t.tariff});case T:return Object(j.a)(Object(j.a)({},e),{},{currentOrder:Object(j.a)(Object(j.a)({},e.currentOrder),{},{additional:[].concat(Object(d.a)(e.currentOrder.additional),[{value:"\u0414\u0430",price:t.item.price,text:t.item.name}])}),price:Object(j.a)(Object(j.a)({},e.price),{},{value:e.price.value+t.item.price})});case M:return e.currentOrder.additional.splice(t.index,1),Object(j.a)(Object(j.a)({},e),{},{currentOrder:Object(j.a)(Object(j.a)({},e.currentOrder),{},{additional:e.currentOrder.additional}),price:Object(j.a)(Object(j.a)({},e.price),{},{value:e.price.value-t.item.price})});case I:return Object(j.a)(Object(j.a)({},e),{},{currentOrder:Object(j.a)(Object(j.a)({},e.currentOrder),{},{delay:Object(j.a)(Object(j.a)({},e.currentOrder.delay),{},{value:t.text,date:t.diff,from:t.from,to:t.to})})});case R:return Object(j.a)(Object(j.a)({},e),{},{dateIsValid:t.flag});case B:return Object(j.a)(Object(j.a)({},e),{},{price:Object(j.a)(Object(j.a)({},e.price),{},{value:e.price.min+t.price})});default:return e}}}),fe=Object(de.createStore)(he,Object(je.composeWithDevTools)(Object(de.applyMiddleware)(pe.a))),me=a(44),xe=a.n(me),ve="https://api-factory.simbirsoft1.com",ge=xe.a.create({baseURL:"https://api-factory.simbirsoft1.com",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b",Authorization:"Bearer ".concat("52efbe08228671240494f537f2486bc109a637b4")}}),ye=function(e){var t=fe.getState().app.tableCars,a=e?t.filter((function(t){return t.categoryId?t.categoryId.id===e:""})):t;fe.dispatch({type:f,payload:a})},Ae=function(e){fe.dispatch(function(e){return{type:h,payload:e}}(e))},Ce=function(){var e=Object(ue.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge({method:"GET",url:"/api/db/car",params:{limit:6,offset:2}});case 3:a=e.sent,t((n=a.data.data,{type:b,payload:n})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.response);case 10:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Ne,we=function(e){return n.createElement("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 172 172"},e),n.createElement("g",{fill:"none",strokeMiterlimit:10,fontFamily:"none",fontWeight:"none",fontSize:"none",textAnchor:"none",style:{mixBlendMode:"normal"}},be||(be=n.createElement("path",{d:"M0 172V0h172v172z"})),Oe||(Oe=n.createElement("path",{d:"M126.133 86a5.718 5.718 0 01-1.68 4.053L67.12 147.387a5.733 5.733 0 01-9.787-4.054V28.667a5.733 5.733 0 019.787-4.053l57.333 57.333a5.718 5.718 0 011.68 4.053z",fill:"#ccc"}))))},Se=(a(120),[{text:"\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",path:""},{text:"\u041c\u043e\u0434\u0435\u043b\u044c",path:"model"},{text:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e",path:"extra"},{text:"\u0418\u0442\u043e\u0433\u043e",path:"total"}]),ke=function(e){var t=e.page,a=e.confirm,n=Object(s.c)((function(e){return e.app.currentStep}));return Object(ae.jsxs)("nav",{className:"navBar",children:[Object(ae.jsxs)("header",{className:"navBar-header",children:[Object(ae.jsx)("h1",{className:"header-title",children:"Need for drive"}),Object(ae.jsx)("section",{className:"sideBar-map",children:Object(ae.jsxs)("span",{className:"header-map",children:[Object(ae.jsx)("img",{src:"https://img.icons8.com/plumpy/24/000000/google-maps-new.png",alt:"google-map"}),"\u0423\u043b\u044c\u044f\u043d\u043e\u0432\u0441\u043a"]})})]}),Object(ae.jsx)("section",{className:"navBar-nav",children:a?Object(ae.jsx)("h1",{children:"\u0417\u0430\u043a\u0430\u0437 \u043d\u043e\u043c\u0435\u0440 RU58491823"}):Se.map((function(e,a){return Object(ae.jsxs)("span",{className:u()({active:a===t,complete:a<n}),children:[a?Object(ae.jsx)(we,{}):"",Object(ae.jsx)(i.b,{className:u()({disabled:a>n}),to:"/car-sharing/order/".concat(e.path),children:e.text})]},e.text)}))})]})},Te=(a(121),function(e){var t=e.arr;return t.length?t.map((function(e){return Object(ae.jsxs)("section",{className:"sideBar-info-content",children:[Object(ae.jsx)("span",{className:"place",children:e.text}),Object(ae.jsx)("span",{className:"dots",children:"......................"}),Object(ae.jsx)("div",{className:"address",children:Object(ae.jsx)("span",{children:e.value})})]},e.text)})):""}),Me=function(e){var t=e.children,a=Object(s.c)((function(e){return e.app.currentOrder})),n=Object(s.c)((function(e){return e.app.price}));return Object(ae.jsxs)("aside",{className:"sideBar",children:[Object(ae.jsx)("header",{className:"sideBar-info-title sideBar-child",children:Object(ae.jsx)("h1",{children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437:"})}),Object(ae.jsx)("main",{className:"sideBar-parameters sideBar-child",children:Object.keys(a).map((function(e){var t,n;return"additional"===e?Object(ae.jsx)(Te,{arr:a[e]},a[e]):a[e].value&&Object(ae.jsxs)("section",{className:"sideBar-info-content",children:[Object(ae.jsx)("span",{className:"place",children:a[e].text}),Object(ae.jsx)("span",{className:"dots",children:"......................"}),Object(ae.jsx)("div",{className:"address",children:Object(ae.jsx)("span",{children:"place"===e?"".concat(null!==(t=a[e].value.city)&&void 0!==t?t:"",",\n").concat(null!==(n=a[e].value.street)&&void 0!==n?n:""):a[e].value})})]},a[e].text)}))}),Object(ae.jsxs)("section",{className:"sideBar-info-price sideBar-child",children:["\u0426\u0435\u043d\u0430",Object(ae.jsxs)("span",{children:[n.value?" ".concat(n.value," p"):" \u043e\u0442 ".concat(n.min," p \u0434\u043e ").concat(n.max," p")," "]})]}),t]})},Ie=(a(122),function(e){var t=e.children,a=e.path,c=e.step,r=e.text,s=e.page,o=e.arrayValid,l=Object(n.useState)(!1),u=Object(ce.a)(l,2),d=u[0],j=u[1];return Object(n.useEffect)((function(){o&&j(o.some((function(e){return!e})))}),[o]),Object(ae.jsxs)("div",{className:"location-page",children:[Object(ae.jsx)(ne,{}),Object(ae.jsx)(ke,{page:s}),t,Object(ae.jsx)(Me,{children:Object(ae.jsx)(i.b,{className:"button",to:"/car-sharing/order/".concat(a),children:Object(ae.jsx)("button",{type:"button",onClick:function(){return Ae(c)},className:"sideBar-button sideBar-child",disabled:d,children:r})})})]})}),Re=[54.3282,48.3866],Be=[{name:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a",price:500},{name:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e",price:200},{name:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c",price:1600}],_e={name:"\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438",id:""},Le=function(){var e=Object(ue.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge({method:"GET",url:"/api/db/category",params:{limit:3}});case 3:(a=e.sent).data.data.unshift(_e),t((n=a.data.data,{type:E,categories:n})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.response);case 11:case"end":return e.stop()}var n}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(s.b)(),t=Object(n.useState)(0),a=Object(ce.a)(t,2),c=a[0],r=a[1],i=Object(s.c)((function(e){return e.app.categories}));return Object(n.useEffect)((function(){i.length||e(Le)}),[i.length]),i.map((function(e,t){return Object(ae.jsxs)("label",{className:u()({active:t===c}),htmlFor:t,children:[Object(ae.jsx)("input",{type:"radio",defaultChecked:0===t,name:"category",id:t,value:e.name,onChange:function(){return a=t,n=e.id,ye(n),void r(+a);var a,n}}),e.name]},e.id)}))},Ue=function(e){var t=e.item,a=e.handleClick,n=e.inputCar;return Object(ae.jsxs)("button",{type:"button",className:u()({car:!0,active:t.name===n}),onClick:function(){a(t)},children:[Object(ae.jsxs)("div",{children:[Object(ae.jsx)("h1",{className:"car-title",children:t.name}),Object(ae.jsxs)("span",{className:"car-subtitle",children:[t.priceMin," - ",t.priceMax," P"]})]}),Object(ae.jsx)("img",{crossOrigin:"anonymous",referrerPolicy:"origin",src:ve+t.thumbnail.path,alt:t.name})]})},Pe=function(e){var t=e.nextStep,a=e.page,c=Object(s.b)(),r=Object(n.useState)(""),i=Object(ce.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)(!1),d=Object(ce.a)(u,2),j=d[0],p=d[1],b=Object(s.c)((function(e){return e.app.tableCars})),h=Object(s.c)((function(e){return e.app.newTableCars})),f=Object(s.c)((function(e){return e.app.currentCar}));function m(e){var t;l(e.name===o?"":e.name),p(e.name!==o),c((t=e.name===o?{name:""}:e,{type:O,payload:t}))}return Object(n.useEffect)((function(){b.length||c(Ce),o||""===f.name||(l(f.name),p(!0))}),[b.length]),Object(ae.jsx)(Ie,{path:"extra",step:t,text:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e",page:a,arrayValid:[j],children:Object(ae.jsxs)("main",{className:"model-content",children:[Object(ae.jsx)("section",{className:"model-input",children:Object(ae.jsx)(De,{})}),Object(ae.jsx)("section",{className:"model-cars",children:h.length?h.map((function(e){return Object(ae.jsx)(Ue,{handleClick:m,inputCar:o,item:e},e.id)})):"\u041c\u0430\u0448\u0438\u043d\u044b \u0434\u0430\u043d\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"})]})})},Ve=(a(123),function(){var e=Object(s.b)(),t=Object(n.useState)(0),a=Object(ce.a)(t,2),c=a[0],r=a[1],i=Object(s.c)((function(e){return e.app.currentCar}));Object(n.useEffect)((function(){e(K(i.colors[0]))}),[]);return Object(ae.jsxs)("div",{className:"extra-main-color",children:[Object(ae.jsx)("h3",{children:"\u0426\u0432\u0435\u0442"}),Object(ae.jsx)("section",{className:"extra-color",children:i.colors.map((function(t,a){return Object(ae.jsxs)("label",{className:u()({active:a===c}),htmlFor:t,children:[Object(ae.jsx)("input",{type:"radio",name:"color",value:t,id:t,onChange:function(){return function(t,a){r(t),e(K(a))}(a,t)}}),t]},t)}))})]})}),Fe=a(75),Qe=a.n(Fe),Ye=a(79);a(124);function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Ke=function(e){return n.createElement("svg",Ge({width:10,height:10,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ne||(Ne=n.createElement("path",{d:"M8 .806L7.194 0 4 3.194.806 0 0 .806 3.194 4 0 7.194.806 8 4 4.806 7.194 8 8 7.194 4.806 4 8 .806z",fill:"#121212"})))},Ze=function(e){var t=e.minDate,a=e.onChange,n=e.onClose,c=e.filterTime,r=e.popperPlacement,s=void 0===r?"bottom-start":r,i=e.selected,o=e.disabled;return Object(ae.jsxs)("div",{className:"extra-date-range",children:[Object(ae.jsx)(Qe.a,{popperPlacement:s,wrapperClassName:"inp",minDate:t,selected:i,onChange:a,timeInputLabel:"Time:",filterTime:c,showTimeSelect:!0,dateFormat:"Pp",timeFormat:"p",timeIntervals:15,locale:Ye.a,disabled:o}),Object(ae.jsx)("button",{type:"button",onClick:n,className:"btn-close open",children:Object(ae.jsx)(Ke,{})})]})},ze=function(){var e=fe.getState().app.currentOrder.delay.date;return e?e.weeks.value>=4?[!1,!1,!1,!1]:e.weeks.value?[!1,!1,!1,!0]:e.days.value?[!1,!1,!0,!0]:e.minutes.value?[!1,!0,!0,!0]:void 0:[!1,!1,!1,!1]},Xe=function(e,t){if(!e||!t)return fe.dispatch(z("",e,t));var a=t.getTime(),n=e.getTime();if(a-n<=0)return fe.dispatch(X(!1));var c=function(e,t,c){return Math.floor((a-n)/6e4-7*e*1440-60*c-1440*t)},r=function(){return Math.floor((a-n)/6e4)},s=function(e,t){return Math.floor((a-n)/36e5-24*t-24*e*7)},i=function(e){return Math.floor((a-n)/864e5-7*e)},o=function(){return Math.ceil((a-n)/864e5)},l=function(){return Math.round((a-n)/6048e5)},u=function(){return Math.floor((a-n)/6048e5)}(),d=i(u),j=s(u,d),p=c(u,d,j),b={weeks:{value:u,total:l(),unit:"\u043d\u0435\u0434"},days:{value:d,total:o(),unit:"\u0434"},hours:{value:j,unit:"\u0447"},minutes:{value:p,total:r(),unit:"\u043c\u0438\u043d"}},O="";O=Object.keys(b).map((function(e){return b[e].value?"".concat(O," ").concat(b[e].value).concat(b[e].unit):""})),fe.dispatch(z(b,O,e.toLocaleString(),t.toLocaleString())),fe.dispatch(X(!0))},He=function(e){var t=e.dateIsValid,a=e.startDate,c=e.setStartDate,r=e.endDate,s=e.setEndDate;Object(n.useEffect)((function(){a?a&&r&&Xe(a,r):s("")}),[a,r]);return Object(ae.jsxs)("div",{children:[Object(ae.jsx)("h1",{children:"\u0414\u0430\u0442\u0430 \u0430\u0440\u0435\u043d\u0434\u044b"}),Object(ae.jsxs)("div",{className:"extra-date",children:[Object(ae.jsxs)("section",{className:"city-content",children:[Object(ae.jsx)("span",{children:"\u0421"}),Object(ae.jsx)(Ze,{onChange:function(e){c(e);var t=new Date(e);t.setMinutes(t.getMinutes()+30),r<=e&&s(t)},onClose:function(){return c("")},minDate:new Date,selected:a,filterTime:function(e){var t=new Date,a=new Date(e);return t.getTime()<a.getTime()},popperPlacement:"top-end"}),Object(ae.jsx)("span",{children:a?"":"\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"})]}),Object(ae.jsxs)("section",{className:"city-content",children:[Object(ae.jsx)("span",{children:"\u041f\u043e"}),Object(ae.jsx)(Ze,{onChange:s,onClose:function(){return s("")},minDate:a,selected:r,filterTime:function(e){var t=new Date,n=new Date(e);return t.getTime()<n.getTime()&&n.getTime()>a.getTime()},disabled:!a}),Object(ae.jsx)("span",{children:r?"":"\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"})]})]}),t?"":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0443\u044e \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b"]})},Je=(a(167),function(e){var t=e.active,a=e.children,n=u()({"modal-content":!0,active:t}),c=u()({modal:!0,active:t});return Object(ae.jsx)("div",{className:c,children:Object(ae.jsx)("div",{className:n,children:a})})}),qe=function(){var e=Object(ue.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge({method:"GET",url:"/api/db/rate"});case 3:a=e.sent,t((n=a.data.data,{type:N,tariffs:n})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.response);case 10:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),We=function(e){var t=e.tariffs,a=e.tariffsIsValid,c=e.tariffIsSelect,r=e.inputTariff,i=e.setInputTariff,o=e.startDate,l=e.endDate,d=Object(s.b)(),j=Object(n.useState)(!1),p=Object(ce.a)(j,2),b=p[0],O=p[1],h=Object(s.c)((function(e){return e.app.currentTariff}));Object(n.useEffect)((function(){t.length&&!h.id&&d(Z(t[0],t[0].rateTypeId.name))}),[t.length]);return Object(n.useEffect)((function(){h.id&&function(e){var t=fe.getState().app.currentOrder.delay.date;if(t)switch(e.rateTypeId.unit){case"\u043c\u0438\u043d":fe.dispatch(H(t.minutes.total*e.price));break;case"\u0441\u0443\u0442\u043a\u0438":fe.dispatch(H(t.days.total*e.price));break;case"7 \u0434\u043d\u0435\u0439":fe.dispatch(H(t.weeks.total*e.price));break;case"30 \u0434\u043d\u0435\u0439":fe.dispatch(H(Math.floor(t.weeks.total/4)*e.price))}}(h)}),[o,l,h.id]),Object(ae.jsxs)("div",{children:[Object(ae.jsx)("h1",{children:"\u0422\u0430\u0440\u0438\u0444"}),Object(ae.jsx)("section",{className:"extra-tariff",children:t.map((function(e,t){return Object(ae.jsxs)("label",{className:u()({active:t===r&&!a[t]}),htmlFor:e.rateTypeId.id,children:[Object(ae.jsx)("button",{className:u()({"extra-btn":!0,disabled:a[t]}),type:"button",onClick:function(a){"disabled"===a.target.classList[1]?O(!0):function(e,t){i(e),d(Z(t,t.rateTypeId.name))}(t,e)},children:"".concat(e.rateTypeId.name,", ").concat(e.price," P/").concat(e.rateTypeId.unit)}),Object(ae.jsxs)(Je,{active:b,children:[Object(ae.jsx)("h1",{children:"\u0422\u0430\u0440\u0438\u0444 \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0432\u0443\u0435\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0439 \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0430\u0440\u0435\u043d\u0434\u044b"}),Object(ae.jsx)("button",{className:"success",type:"button",onClick:function(){return O(!1)},children:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e"})]})]},e.id)}))}),c?"":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0430\u0440\u0438\u0444"]})},$e=function(){var e=Object(s.b)(),t=Object(n.useState)([]),a=Object(ce.a)(t,2),c=a[0],r=a[1],i=Object(s.c)((function(e){return e.app.currentOrder.additional})),o=function(t,a){if(c.includes(a)){var n=i.findIndex((function(e){return e.text===t.name}));e(function(e,t){return{type:M,item:e,index:t}}(t,n)),c.splice(n,1),r(Object(d.a)(c))}else e(function(e){return{type:T,item:e}}(t)),r([].concat(Object(d.a)(c),[a]))};return Object(ae.jsxs)("div",{children:[Object(ae.jsx)("h1",{children:"\u0414\u043e\u043f \u0443\u0441\u043b\u0443\u0433\u0438"}),Object(ae.jsx)("section",{className:"extra-additional",children:Be.map((function(e,t){return Object(ae.jsxs)("label",{htmlFor:e.name,children:["".concat(e.name,", ").concat(e.price,"P"),Object(ae.jsx)("input",{type:"checkbox",onChange:function(){return o(e,t)},name:"additional",id:e.name,value:e.name}),Object(ae.jsx)("span",{className:"check-mark"})]},e.name)}))})]})},et=function(e){var t=e.nextStep,a=e.page,c=Object(s.b)(),r=Object(n.useState)(new Date),i=Object(ce.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)(o?new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes()+30):""),d=Object(ce.a)(u,2),j=d[0],p=d[1],b=Object(n.useState)([]),O=Object(ce.a)(b,2),h=O[0],f=O[1],m=Object(n.useState)(!0),x=Object(ce.a)(m,2),v=x[0],g=x[1],y=Object(n.useState)(0),A=Object(ce.a)(y,2),C=A[0],E=A[1],N=Object(s.c)((function(e){return e.app.tariffs})),w=Object(s.c)((function(e){return e.app.dateIsValid}));return Object(n.useEffect)((function(){N.length||c(qe),f(ze)}),[N.length,o,j]),Object(n.useEffect)((function(){g(!N.some((function(e,t){return t===C&&h[t]})))}),[o,j,C,h]),Object(ae.jsx)(Ie,{path:"total",step:t,page:a,text:"\u0418\u0442\u043e\u0433\u043e",arrayValid:[w,o,j,v],children:Object(ae.jsxs)("main",{className:"extra-content",children:[Object(ae.jsx)(Ve,{}),Object(ae.jsx)(He,{dateIsValid:w,startDate:o,setStartDate:l,endDate:j,setEndDate:p}),Object(ae.jsx)(We,{tariffIsSelect:v,tariffsIsValid:h,tariffs:N,inputTariff:C,setInputTariff:E,setTariffIsSelect:g,startDate:o,endDate:j}),Object(ae.jsx)($e,{})]})})},tt=(a(168),function(){var e=Object(s.c)((function(e){return e.app.currentCar})),t=Object(s.c)((function(e){return e.app.currentOrder}));return Object(ae.jsxs)("div",{className:"total-content-main",children:[Object(ae.jsxs)("section",{className:"total-content-info",children:[Object(ae.jsx)("h1",{children:e.name}),e.number?Object(ae.jsx)("span",{className:"number",children:e.number}):"",Object(ae.jsx)("section",{className:"text",children:Object(ae.jsx)("span",{children:"\u0422\u043e\u043f\u043b\u0438\u0432\u043e"})}),Object(ae.jsxs)("section",{className:"text",children:[Object(ae.jsx)("span",{children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 c"})," ",t.delay.from]})]}),Object(ae.jsx)("img",{src:ve+e.thumbnail.path,alt:e.name})]})}),at=function(e){var t=e.nextStep,a=e.page;return Object(ae.jsx)(Ie,{path:"confirm",text:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c",page:a,step:t,children:Object(ae.jsx)("main",{className:"total-content",children:Object(ae.jsx)(tt,{})})})},nt=(a(169),function(){var e=Object(ue.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge({method:"GET",url:"/api/db/city",params:{limit:6}});case 3:a=e.sent,t(P(a.data.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),ct=function(e){return function(){var t=Object(ue.a)(le.a.mark((function t(a){var n;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xe.a.get("".concat("https://nominatim.openstreetmap.org/search","?q=").concat(e,"&format=json&addressdetails=1&limit=1"));case 3:(n=t.sent).data[0]&&a((c=n.data[0],{type:A,placeMark:c})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0.response);case 10:case"end":return t.stop()}var c}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},rt=(ct(),function(e,t){var a=Object(n.useState)({value:!1,text:""}),c=Object(ce.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)({value:!1,text:"",array:[]}),o=Object(ce.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)({value:!1,text:""}),j=Object(ce.a)(d,2),p=j[0],b=j[1];return Object(n.useEffect)((function(){Object.keys(t).forEach((function(a){switch(a){case"isCompareCity":var n=t[a].array.find((function(t){return e.toLowerCase()===t.name.toLowerCase()}));n&&e&&function(e){var t=fe.getState().app.placeMarks,a=fe.getState().app.currentAddress;e.name!==a.city&&fe.dispatch(Q("",e.name));var n=t.filter((function(t){return e.name===t.address.city}));fe.dispatch(F(e)),fe.dispatch(Y(n)),fe.dispatch(G(n.length?n[0]:{}))}(n),u({value:!!e&&!n,text:n||!e?"":t[a].text});break;case"isCompareAddress":var c,r,i=t[a].array.find((function(t){var a;return e.toLowerCase()==="".concat(t.address.road," ").concat(null!==(a=t.address.house_number)&&void 0!==a?a:"").toLowerCase()}));if(i)o="".concat(i.address.road," ").concat(null!==(c=i.address.house_number)&&void 0!==c?c:""),l=null!==(r=i.address.city)&&void 0!==r?r:"",d=i,fe.dispatch(Q(o,l)),fe.dispatch(G(d));u({value:!i,text:i?"":t[a].text});break;case"isEmpty":s(e?{value:!1,text:""}:{value:!0,text:t[a].text})}var o,l,d}))}),[e]),Object(n.useEffect)((function(){l.value||r.value?b({value:!1,text:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}):b({value:!0,text:""})}),[l.value,r.value]),{isEmpty:r,isCompareError:l,inputValid:p}}),st=function(e,t){var a=Object(n.useState)(e),c=Object(ce.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(!1),o=Object(ce.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)(!1),p=Object(ce.a)(d,2),b=p[0],O=p[1],h=rt(r,t);return Object(j.a)({value:r,focus:l,onChange:function(e){s(e.target.value),function(e){var t=fe.getState().app.cities,a=new RegExp(e.toLowerCase());fe.dispatch(V(t.filter((function(e){return a.test(e.name.toLowerCase())}))))}(e.target.value)},onChangeAddress:function(e){s(e.target.value),function(e){var t=fe.getState().app.placeMarks,a=fe.getState().app.currentCity,n=new RegExp(e.toLowerCase());fe.dispatch(Y(t.filter("name"in a?function(e){if(e.address.city&&a.name===e.address.city)return n.test("".concat(e.address.road," ").concat(e.address.house_number).toLowerCase())}:function(e){return n.test("".concat(e.address.road," ").concat(e.address.house_number).toLowerCase())})))}(e.target.value)},onBlur:function(){O(!0),u(!1)},onFocus:function(){u(!0),O(!1)},onClick:function(e){s(e),u(!1)},onClose:function(){s(""),u(!0)},isDirty:b,printError:function(e){var t=!1;return e.map((function(e){return!(!t&&h[e].value)||(t=!0,h[e].text)}))}},h)},it=a(23),ot=a.n(it),lt=a(181),ut=a(182),dt=a(185),jt=a(183),pt=a(184),bt=a(78),Ot=(a(170),new ot.a.icon({iconUrl:bt.a,iconSize:[25,41],iconAnchor:[10,41],popupAnchor:[2,-40]}));function ht(){var e=Object(s.c)((function(e){return e.app.placeMarkIndex})),t=Object(lt.a)();return Object(n.useEffect)((function(){Object.keys(e).length&&t.flyTo([+e.lat,+e.lon],t.getZoom())}),[e]),null}var ft=function(){var e=Object(s.c)((function(e){return e.app.placeMarks}));return Object(ae.jsx)("div",{className:"map",children:Object(ae.jsxs)(ut.a,{style:{height:"450px",width:"100%"},center:Re,zoom:11,children:[Object(ae.jsx)(dt.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.length&&e.map((function(e){return Object(ae.jsxs)(jt.a,{position:[e.lat,e.lon],icon:Ot,children:[Object(ae.jsx)(ht,{}),Object(ae.jsx)(pt.a,{children:"".concat(e.address.city," ").concat(e.address.road)})]},e.place_id)}))]})})},mt=function(e){var t=e.value,a=e.click,n=e.text;return Object(ae.jsx)("button",{type:"button",onClick:a,value:t,children:n})},xt=function(e){var t=e.value,a=e.name,n=e.onChange,c=e.placeholder;return Object(ae.jsx)("input",{type:"text",value:t,onChange:n,name:a,placeholder:c,id:a,autoComplete:"off"})},vt=function(e){var t=e.input,a=e.array,c=e.current,r=e.auto,s=e.title,i=e.onChange,o=e.print,l=e.id;Object(n.useEffect)((function(){c&&t.onClick(c)}),[c]);var d=u()({"btn-close":!0,open:t.focus&&t.value}),j=u()({"auto-address":!0,open:t.focus&&r});return Object(ae.jsxs)("div",{className:"city-content",children:[Object(ae.jsx)("span",{children:s}),Object(ae.jsxs)("section",{className:"city-content-main",onFocus:t.onFocus,onBlur:t.onBlur,children:[Object(ae.jsx)(xt,{name:l,value:t.value,onChange:i,placeholder:"city"===l?"":"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438"}),Object(ae.jsx)("button",{type:"button",onClick:t.onClose,className:d,children:Object(ae.jsx)(Ke,{})}),Object(ae.jsx)("div",{className:j,children:a.length?a.map((function(e){var t,a,n,c,r;return Object(ae.jsx)(mt,{value:null!==(a=e.name)&&void 0!==a?a:"".concat(e.address.road," ").concat(null!==(n=e.address.house_number)&&void 0!==n?n:""),click:i,text:null!==(c=e.name)&&void 0!==c?c:"".concat(e.address.city," ").concat(e.address.road," ").concat(null!==(r=e.address.house_number)&&void 0!==r?r:"")},null!==(t=e.name)&&void 0!==t?t:e.address.road)})):""})]}),Object(ae.jsx)("span",{children:t.isDirty&&t.printError(o)})]})},gt=function(e){var t=e.nextStep,a=e.page,c=Object(s.b)(),r=Object(s.c)((function(e){return e.app.placeMarks})),i=Object(s.c)((function(e){return e.app.newCities})),o=Object(s.c)((function(e){return e.app.newPlaceMarks})),l=Object(s.c)((function(e){return e.app.currentAddress})),u=Object(s.c)((function(e){return e.app.currentCity.name})),d=st("",{isEmpty:{text:"\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435",value:!0},isCompareAddress:{text:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043b\u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430",value:!1,array:o}}),j=st("",{isCompareCity:{text:"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0438\u043b\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",value:!1,array:i}});return Object(n.useEffect)((function(){r.length?function(){var e=fe.getState().app.addresses,t=fe.getState().app.cities,a=[];t.forEach((function(t){e.some((function(e){return e.cityId.name===t.name}))&&a.push(t)})),fe.dispatch(P(a))}():(c(nt),c(function(){var e=Object(ue.a)(le.a.mark((function e(t){var a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge({method:"GET",url:"/api/db/point",params:{limit:10}});case 3:a=e.sent,n=a.data.data.filter((function(e){return e.cityId})),t({type:y,payload:n}),n.forEach((function(e){fe.dispatch(ct("".concat(e.cityId.name," ").concat(e.address)))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))}),[r.length]),Object(n.useEffect)((function(){!j.value&&j.focus?(d.onClick(""),function(){var e=fe.getState().app.placeMarks,t=fe.getState().app.cities;fe.dispatch(F({})),fe.dispatch(Q("","")),fe.dispatch(V(t)),fe.dispatch(Y(e))}()):j.value&&l.city!==j.value&&!j.isCompareError.value&&d.onClick("")}),[j.value]),Object(n.useEffect)((function(){var e;d.focus&&!d.value&&j.inputValid.value&&(j.value||c(Y(r)),c(Q("",null!==(e=j.value)&&void 0!==e?e:"")))}),[d.value]),Object(ae.jsx)(Ie,{path:"model",text:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c",step:t,page:a,arrayValid:[d.inputValid.value,j.inputValid.value],children:Object(ae.jsxs)("main",{className:"location-content",children:[Object(ae.jsxs)("section",{className:"location-city",children:[Object(ae.jsx)(vt,{current:u,auto:j.isCompareError.value||!j.value,title:"\u0413\u043e\u0440\u043e\u0434",onChange:j.onChange,print:["isCompareError"],input:j,array:i,id:"city"}),Object(ae.jsx)(vt,{current:l.name,auto:d.isCompareError.value,title:"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",onChange:d.onChangeAddress,print:["isEmpty","isCompareError"],input:d,array:o,id:"place"})]}),Object(ae.jsxs)("section",{className:"location-map",children:[Object(ae.jsx)("h3",{children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0430 \u043a\u0430\u0440\u0442\u0435:"}),Object(ae.jsx)(ft,{})]})]})})},yt=(a(171),function(){return Object(ae.jsxs)("div",{className:"location-page",children:[Object(ae.jsx)(ne,{}),Object(ae.jsx)(ke,{confirm:!0}),Object(ae.jsxs)("main",{className:"confirm-content",children:[Object(ae.jsx)("h1",{children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0451\u043d"}),Object(ae.jsx)(tt,{})]}),Object(ae.jsx)(Me,{children:Object(ae.jsx)("button",{type:"button",className:"button confirm-content-button",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]})});var At=function(){return Object(ae.jsx)(i.a,{children:Object(ae.jsxs)(o.c,{children:[Object(ae.jsx)(o.a,{exact:!0,path:"/car-sharing/",component:ie}),Object(ae.jsx)(o.a,{exact:!0,path:"/car-sharing/order",render:function(){return Object(ae.jsx)(gt,{page:0,nextStep:1})}}),Object(ae.jsx)(o.a,{path:"/car-sharing/order/model",render:function(){return Object(ae.jsx)(Pe,{page:1,nextStep:2})}}),Object(ae.jsx)(o.a,{path:"/car-sharing/order/extra",render:function(){return Object(ae.jsx)(et,{page:2,nextStep:3})}}),Object(ae.jsx)(o.a,{path:"/car-sharing/order/total",render:function(){return Object(ae.jsx)(at,{page:3,nextStep:3})}}),Object(ae.jsx)(o.a,{path:"/car-sharing/order/confirm",component:yt})]})})};r.a.render(Object(ae.jsx)(s.a,{store:fe,children:Object(ae.jsx)(At,{})}),document.getElementById("root"))},83:function(e,t,a){},93:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[173,1,2]]]);
//# sourceMappingURL=main.b67c2e93.chunk.js.map